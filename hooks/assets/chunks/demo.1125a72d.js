import{e as x,ao as C,M as V,r as w,J as D,k as B,o as s,c,j as e,X as u,w as d,n as p,W as m,t as n,d as a,F as E,m as F}from"../app.25ea1577.js";const S={style:{height:"400px",overflow:"scroll"}},b={style:{"margin-top":"8px"}},J={style:{"margin-top":"8px"}},M={style:{"margin-top":"8px"}},N=a("p",null,"received message: ",-1),L=x({__name:"demo",setup(X){const{readyState:o,sendMessage:_,latestMessage:y,disconnect:v,connect:g}=C("wss://demo.piesocket.com/v3/channel_1?api_key=VCXCEuvhGcBDP7XhiJJUDvR1e1D3eiVjgZ9VRiaV&notify_self"),f=V(()=>y.value),i=w([]);return D(()=>{var r,t;(r=f.value)!=null&&r.data&&i.value.push((t=f.value)==null?void 0:t.data)}),(r,t)=>{const l=B("vhp-button");return s(),c("div",S,[e(o)===1?(s(),u(l,{key:0,onClick:t[0]||(t[0]=()=>e(_)&&e(_)(`${Date.now()}`))},{default:d(()=>[p("\u2709\uFE0F send")]),_:1})):m("",!0),e(o)===1?(s(),u(l,{key:1,style:{"margin-left":"8px"},onClick:t[1]||(t[1]=()=>e(v)&&e(v)())},{default:d(()=>[p(" \u274C disconnect")]),_:1})):m("",!0),e(o)!==1?(s(),u(l,{key:2,style:{"margin-left":"8px"},onClick:t[2]||(t[2]=()=>e(g)&&e(g)())},{default:d(()=>[p(n(e(o)===0?"connecting":"\u{1F4DE} connect"),1)]),_:1})):m("",!0),a("div",b,"readyState: "+n(e(o)),1),a("div",J," message count: "+n(i.value.length),1),a("div",M,[N,(s(!0),c(E,null,F(i.value,(k,h)=>(s(),c("p",{key:h},n(k),1))),128))])])}}});export{L as _};
