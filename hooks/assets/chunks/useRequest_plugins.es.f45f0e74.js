import{aa as de,r as he,h as me,ab as ve,ac as pe,ad as H,ae as Bt,af as ge,ag as _e,ah as be,ai as ye,aj as we,ak as Se,al as ke,N as Ce}from"../app.367c0303.js";/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Ft;const dt=t=>Ft=t,Pe=Symbol();function ot(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var A;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(A||(A={}));const Nt=()=>{};function Pt(t,e,r,n=Nt){t.push(e);const s=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),n())};return!r&&be()&&ye(s),s}function x(t,...e){t.slice().forEach(r=>{r(...e)})}const Ee=t=>t(),Et=Symbol(),tt=Symbol();function it(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,n)=>t.set(n,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],s=t[r];ot(s)&&ot(n)&&t.hasOwnProperty(r)&&!H(n)&&!Bt(n)?t[r]=it(s,n):t[r]=n}return t}const Me=Symbol();function Ie(t){return!ot(t)||!t.hasOwnProperty(Me)}const{assign:P}=Object;function Re(t){return!!(H(t)&&t.effect)}function xe(t,e,r,n){const{state:s,actions:o,getters:i}=e,a=r.state.value[t];let c;function f(){a||(r.state.value[t]=s?s():{});const l=Se(r.state.value[t]);return P(l,o,Object.keys(i||{}).reduce((m,u)=>(m[u]=ke(Ce(()=>{dt(r);const _=r._s.get(t);return i[u].call(_,_)})),m),{}))}return c=Dt(t,f,e,r,n,!0),c}function Dt(t,e,r={},n,s,o){let i;const a=P({actions:{}},r),c={deep:!0};let f,l,m=[],u=[],_;const b=n.state.value[t];!o&&!b&&(n.state.value[t]={}),he({});let St;function kt(v){let d;f=l=!1,typeof v=="function"?(v(n.state.value[t]),d={type:A.patchFunction,storeId:t,events:_}):(it(n.state.value[t],v),d={type:A.patchObject,payload:v,storeId:t,events:_});const y=St=Symbol();we().then(()=>{St===y&&(f=!0)}),l=!0,x(m,d,n.state.value[t])}const ae=o?function(){const{state:d}=r,y=d?d():{};this.$patch(R=>{P(R,y)})}:Nt;function ce(){i.stop(),m=[],u=[],n._s.delete(t)}const Ct=(v,d="")=>{if(Et in v)return v[tt]=d,v;const y=function(){dt(n);const R=Array.from(arguments),D=[],$=[];function le(w){D.push(w)}function fe(w){$.push(w)}x(u,{args:R,name:y[tt],store:S,after:le,onError:fe});let T;try{T=v.apply(this&&this.$id===t?this:S,R)}catch(w){throw x($,w),w}return T instanceof Promise?T.then(w=>(x(D,w),w)).catch(w=>(x($,w),Promise.reject(w))):(x(D,T),T)};return y[Et]=!0,y[tt]=d,y},ue={_p:n,$id:t,$onAction:Pt.bind(null,u),$patch:kt,$reset:ae,$subscribe(v,d={}){const y=Pt(m,v,d.detached,()=>R()),R=i.run(()=>me(()=>n.state.value[t],D=>{(d.flush==="sync"?l:f)&&v({storeId:t,type:A.direct,events:_},D)},P({},c,d)));return y},$dispose:ce},S=ve(ue);n._s.set(t,S);const N=(n._a&&n._a.runWithContext||Ee)(()=>n._e.run(()=>(i=pe()).run(()=>e({action:Ct}))));for(const v in N){const d=N[v];if(H(d)&&!Re(d)||Bt(d))o||(b&&Ie(d)&&(H(d)?d.value=b[v]:it(d,b[v])),n.state.value[t][v]=d);else if(typeof d=="function"){const y=Ct(d,v);N[v]=y,a.actions[v]=d}}return P(S,N),P(ge(S),N),Object.defineProperty(S,"$state",{get:()=>n.state.value[t],set:v=>{kt(d=>{P(d,v)})}}),n._p.forEach(v=>{P(S,i.run(()=>v({store:S,app:n._a,pinia:n,options:a})))}),b&&o&&r.hydrate&&r.hydrate(S.$state,b),f=!0,l=!0,S}/*! #__NO_SIDE_EFFECTS__ */function Oe(t,e,r){let n,s;const o=typeof e=="function";typeof t=="string"?(n=t,s=o?r:e):(s=t,n=t.id);function i(a,c){const f=_e();return a=a||(f?de(Pe,null):null),a&&dt(a),a=Ft,a._s.has(n)||(o?Dt(n,e,s,a):xe(n,s,a)),a._s.get(n)}return i.$id=n,i}/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function je(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const Le=Object.assign,Be=Object.prototype.hasOwnProperty,at=(t,e)=>Be.call(t,e),j=Array.isArray,q=t=>Tt(t)==="[object Map]",Fe=t=>typeof t=="string",J=t=>typeof t=="symbol",X=t=>t!==null&&typeof t=="object",Ne=Object.prototype.toString,Tt=t=>Ne.call(t),De=t=>Tt(t).slice(8,-1),ht=t=>Fe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,K=(t,e)=>!Object.is(t,e);let Mt;const mt=()=>Mt||(Mt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Te,Wt=0,et;function vt(){Wt++}function pt(){if(--Wt>0)return;let t;for(;et;){let e=et;for(et=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}let Q=!0;const At=[];function We(){At.push(Q),Q=!1}function Ae(){const t=At.pop();Q=t===void 0?!0:t}class Kt{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){}trigger(e){this.version++,this.notify(e)}notify(e){vt();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{pt()}}}const ct=new WeakMap,I=Symbol(""),ut=Symbol(""),V=Symbol("");function g(t,e,r){if(Q&&Te){let n=ct.get(t);n||ct.set(t,n=new Map);let s=n.get(r);s||(n.set(r,s=new Kt),s.map=n,s.key=r),s.track()}}function E(t,e,r,n,s,o){const i=ct.get(t);if(!i)return;const a=c=>{c&&c.trigger()};if(vt(),e==="clear")i.forEach(a);else{const c=j(t),f=c&&ht(r);if(c&&r==="length"){const l=Number(n);i.forEach((m,u)=>{(u==="length"||u===V||!J(u)&&u>=l)&&a(m)})}else switch((r!==void 0||i.has(void 0))&&a(i.get(r)),f&&a(i.get(V)),e){case"add":c?f&&a(i.get("length")):(a(i.get(I)),q(t)&&a(i.get(ut)));break;case"delete":c||(a(i.get(I)),q(t)&&a(i.get(ut)));break;case"set":q(t)&&a(i.get(I));break}}pt()}function O(t){const e=h(t);return e===t?e:(g(e,"iterate",V),M(t)?e:e.map(p))}function gt(t){return g(t=h(t),"iterate",V),t}const Ke={__proto__:null,[Symbol.iterator](){return nt(this,Symbol.iterator,p)},concat(...t){return O(this).concat(...t.map(e=>j(e)?O(e):e))},entries(){return nt(this,"entries",t=>(t[1]=p(t[1]),t))},every(t,e){return k(this,"every",t,e,void 0,arguments)},filter(t,e){return k(this,"filter",t,e,r=>r.map(p),arguments)},find(t,e){return k(this,"find",t,e,p,arguments)},findIndex(t,e){return k(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return k(this,"findLast",t,e,p,arguments)},findLastIndex(t,e){return k(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return k(this,"forEach",t,e,void 0,arguments)},includes(...t){return rt(this,"includes",t)},indexOf(...t){return rt(this,"indexOf",t)},join(t){return O(this).join(t)},lastIndexOf(...t){return rt(this,"lastIndexOf",t)},map(t,e){return k(this,"map",t,e,void 0,arguments)},pop(){return W(this,"pop")},push(...t){return W(this,"push",t)},reduce(t,...e){return It(this,"reduce",t,e)},reduceRight(t,...e){return It(this,"reduceRight",t,e)},shift(){return W(this,"shift")},some(t,e){return k(this,"some",t,e,void 0,arguments)},splice(...t){return W(this,"splice",t)},toReversed(){return O(this).toReversed()},toSorted(t){return O(this).toSorted(t)},toSpliced(...t){return O(this).toSpliced(...t)},unshift(...t){return W(this,"unshift",t)},values(){return nt(this,"values",p)}};function nt(t,e,r){const n=gt(t),s=n[e]();return n!==t&&!M(t)&&(s._next=s.next,s.next=()=>{const o=s._next();return o.value&&(o.value=r(o.value)),o}),s}const Ve=Array.prototype;function k(t,e,r,n,s,o){const i=gt(t),a=i!==t&&!M(t),c=i[e];if(c!==Ve[e]){const m=c.apply(t,o);return a?p(m):m}let f=r;i!==t&&(a?f=function(m,u){return r.call(this,p(m),u,t)}:r.length>2&&(f=function(m,u){return r.call(this,m,u,t)}));const l=c.call(i,f,n);return a&&s?s(l):l}function It(t,e,r,n){const s=gt(t);let o=r;return s!==t&&(M(t)?r.length>3&&(o=function(i,a,c){return r.call(this,i,a,c,t)}):o=function(i,a,c){return r.call(this,i,p(a),c,t)}),s[e](o,...n)}function rt(t,e,r){const n=h(t);g(n,"iterate",V);const s=n[e](...r);return(s===-1||s===!1)&&rn(r[0])?(r[0]=h(r[0]),n[e](...r)):s}function W(t,e,r=[]){We(),vt();const n=h(t)[e].apply(t,r);return pt(),Ae(),n}const Je=je("__proto__,__v_isRef,__isVue"),Vt=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(J));function Ue(t){J(t)||(t=String(t));const e=h(this);return g(e,"has",t),e.hasOwnProperty(t)}class Jt{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const s=this._isReadonly,o=this._isShallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return o;if(r==="__v_raw")return n===(s?o?tn:qt:o?$e:zt).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const i=j(e);if(!s){let c;if(i&&(c=Ke[r]))return c;if(r==="hasOwnProperty")return Ue}const a=Reflect.get(e,r,L(e)?e:n);return(J(r)?Vt.has(r):Je(r))||(s||g(e,"get",r),o)?a:L(a)?i&&ht(r)?a:a.value:X(a)?s?Qt(a):Ht(a):a}}class ze extends Jt{constructor(e=!1){super(!1,e)}set(e,r,n,s){let o=e[r];if(!this._isShallow){const c=B(o);if(!M(n)&&!B(n)&&(o=h(o),n=h(n)),!j(e)&&L(o)&&!L(n))return c?!1:(o.value=n,!0)}const i=j(e)&&ht(r)?Number(r)<e.length:at(e,r),a=Reflect.set(e,r,n,L(e)?e:s);return e===h(s)&&(i?K(n,o)&&E(e,"set",r,n):E(e,"add",r,n)),a}deleteProperty(e,r){const n=at(e,r);e[r];const s=Reflect.deleteProperty(e,r);return s&&n&&E(e,"delete",r,void 0),s}has(e,r){const n=Reflect.has(e,r);return(!J(r)||!Vt.has(r))&&g(e,"has",r),n}ownKeys(e){return g(e,"iterate",j(e)?"length":I),Reflect.ownKeys(e)}}class qe extends Jt{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const He=new ze,Qe=new qe,lt=t=>t,U=t=>Reflect.getPrototypeOf(t);function Ge(t,e,r){return function(...n){const s=this.__v_raw,o=h(s),i=q(o),a=t==="entries"||t===Symbol.iterator&&i,c=t==="keys"&&i,f=s[t](...n),l=r?lt:e?ft:p;return!e&&g(o,"iterate",c?ut:I),{next(){const{value:m,done:u}=f.next();return u?{value:m,done:u}:{value:a?[l(m[0]),l(m[1])]:l(m),done:u}},[Symbol.iterator](){return this}}}}function z(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Xe(t,e){const r={get(n){const s=this.__v_raw,o=h(s),i=h(n);t||(K(n,i)&&g(o,"get",n),g(o,"get",i));const{has:a}=U(o),c=e?lt:t?ft:p;if(a.call(o,n))return c(s.get(n));if(a.call(o,i))return c(s.get(i));s!==o&&s.get(n)},get size(){const n=this.__v_raw;return!t&&g(h(n),"iterate",I),Reflect.get(n,"size",n)},has(n){const s=this.__v_raw,o=h(s),i=h(n);return t||(K(n,i)&&g(o,"has",n),g(o,"has",i)),n===i?s.has(n):s.has(n)||s.has(i)},forEach(n,s){const o=this,i=o.__v_raw,a=h(i),c=e?lt:t?ft:p;return!t&&g(a,"iterate",I),i.forEach((f,l)=>n.call(s,c(f),c(l),o))}};return Le(r,t?{add:z("add"),set:z("set"),delete:z("delete"),clear:z("clear")}:{add(n){!e&&!M(n)&&!B(n)&&(n=h(n));const s=h(this);return U(s).has.call(s,n)||(s.add(n),E(s,"add",n,n)),this},set(n,s){!e&&!M(s)&&!B(s)&&(s=h(s));const o=h(this),{has:i,get:a}=U(o);let c=i.call(o,n);c||(n=h(n),c=i.call(o,n));const f=a.call(o,n);return o.set(n,s),c?K(s,f)&&E(o,"set",n,s):E(o,"add",n,s),this},delete(n){const s=h(this),{has:o,get:i}=U(s);let a=o.call(s,n);a||(n=h(n),a=o.call(s,n)),i&&i.call(s,n);const c=s.delete(n);return a&&E(s,"delete",n,void 0),c},clear(){const n=h(this),s=n.size!==0,o=n.clear();return s&&E(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{r[n]=Ge(n,t,e)}),r}function Ut(t,e){const r=Xe(t,e);return(n,s,o)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?n:Reflect.get(at(r,s)&&s in n?r:n,s,o)}const Ye={get:Ut(!1,!1)},Ze={get:Ut(!0,!1)},zt=new WeakMap,$e=new WeakMap,qt=new WeakMap,tn=new WeakMap;function en(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function nn(t){return t.__v_skip||!Object.isExtensible(t)?0:en(De(t))}function Ht(t){return B(t)?t:Gt(t,!1,He,Ye,zt)}function Qt(t){return Gt(t,!0,Qe,Ze,qt)}function Gt(t,e,r,n,s){if(!X(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=s.get(t);if(o)return o;const i=nn(t);if(i===0)return t;const a=new Proxy(t,i===2?n:r);return s.set(t,a),a}function B(t){return!!(t&&t.__v_isReadonly)}function M(t){return!!(t&&t.__v_isShallow)}function rn(t){return t?!!t.__v_raw:!1}function h(t){const e=t&&t.__v_raw;return e?h(e):t}const p=t=>X(t)?Ht(t):t,ft=t=>X(t)?Qt(t):t;function L(t){return t?t.__v_isRef===!0:!1}function sn(t){return on(t,!1)}function on(t,e){return L(t)?t:new an(t,e)}class an{constructor(e,r){this.dep=new Kt,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:h(e),this._value=r?e:p(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||M(e)||B(e);e=n?e:h(e),K(e,r)&&(this._rawValue=e,this._value=n?e:p(e),this.dep.trigger())}}mt().requestIdleCallback;mt().cancelIdleCallback;{const t=mt(),e=(r,n)=>{let s;return(s=t[r])||(s=t[r]=[]),s.push(n),o=>{s.length>1?s.forEach(i=>i(o)):s[0](o)}};e("__VUE_INSTANCE_SETTERS__",r=>r),e("__VUE_SSR_SETTERS__",r=>r)}function cn(t){return t&&typeof t.then=="function"}Promise.resolve(!1);Promise.resolve(!0);var F=Promise.resolve();function Xt(t,e){return t||(t=0),new Promise(function(r){return setTimeout(function(){return r(e)},t)})}function un(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function _t(){return Math.random().toString(36).substring(2)}var Rt=0,st=0;function Y(){var t=Date.now();return t===Rt?(st++,t*1e3+st):(Rt=t,st=0,t*1e3)}var ln=Y,fn="native";function dn(t){var e={messagesCallback:null,bc:new BroadcastChannel(t),subFns:[]};return e.bc.onmessage=function(r){e.messagesCallback&&e.messagesCallback(r.data)},e}function hn(t){t.bc.close(),t.subFns=[]}function mn(t,e){try{return t.bc.postMessage(e,!1),F}catch(r){return Promise.reject(r)}}function vn(t,e){t.messagesCallback=e}function pn(){if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function gn(){return 150}var _n={create:dn,close:hn,onMessage:vn,postMessage:mn,canBeUsed:pn,type:fn,averageResponseTime:gn,microSeconds:ln},Yt=function(){function t(e){this.ttl=e,this.map=new Map,this._to=!1}return t.prototype.has=function(e){return this.map.has(e)},t.prototype.add=function(e){var r=this;this.map.set(e,Zt()),this._to||(this._to=!0,setTimeout(function(){r._to=!1,bn(r)},0))},t.prototype.clear=function(){this.map.clear()},t}();function bn(t){for(var e=Zt()-t.ttl,r=t.map[Symbol.iterator]();;){var n=r.next().value;if(!n)return;var s=n[0],o=n[1];if(o<e)t.map.delete(s);else return}}function Zt(){return new Date().getTime()}function bt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=JSON.parse(JSON.stringify(t));return typeof e.webWorkerSupport>"u"&&(e.webWorkerSupport=!0),e.idb||(e.idb={}),e.idb.ttl||(e.idb.ttl=1e3*45),e.idb.fallbackInterval||(e.idb.fallbackInterval=150),t.idb&&typeof t.idb.onclose=="function"&&(e.idb.onclose=t.idb.onclose),e.localstorage||(e.localstorage={}),e.localstorage.removeTimeout||(e.localstorage.removeTimeout=1e3*60),t.methods&&(e.methods=t.methods),e.node||(e.node={}),e.node.ttl||(e.node.ttl=1e3*60*2),e.node.maxParallelWrites||(e.node.maxParallelWrites=2048),typeof e.node.useFastPath>"u"&&(e.node.useFastPath=!0),e}var yn=Y,wn="pubkey.broadcast-channel-0-",C="messages",Z={durability:"relaxed"},Sn="idb";function $t(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function yt(t){t.commit&&t.commit()}function kn(t){var e=$t(),r=wn+t,n=e.open(r);return n.onupgradeneeded=function(s){var o=s.target.result;o.createObjectStore(C,{keyPath:"id",autoIncrement:!0})},new Promise(function(s,o){n.onerror=function(i){return o(i)},n.onsuccess=function(){s(n.result)}})}function Cn(t,e,r){var n=Date.now(),s={uuid:e,time:n,data:r},o=t.transaction([C],"readwrite",Z);return new Promise(function(i,a){o.oncomplete=function(){return i()},o.onerror=function(f){return a(f)};var c=o.objectStore(C);c.add(s),yt(o)})}function Pn(t,e){var r=t.transaction(C,"readonly",Z),n=r.objectStore(C),s=[],o=IDBKeyRange.bound(e+1,1/0);if(n.getAll){var i=n.getAll(o);return new Promise(function(c,f){i.onerror=function(l){return f(l)},i.onsuccess=function(l){c(l.target.result)}})}function a(){try{return o=IDBKeyRange.bound(e+1,1/0),n.openCursor(o)}catch{return n.openCursor()}}return new Promise(function(c,f){var l=a();l.onerror=function(m){return f(m)},l.onsuccess=function(m){var u=m.target.result;u?u.value.id<e+1?u.continue(e+1):(s.push(u.value),u.continue()):(yt(r),c(s))}})}function En(t,e){if(t.closed)return Promise.resolve([]);var r=t.db.transaction(C,"readwrite",Z),n=r.objectStore(C);return Promise.all(e.map(function(s){var o=n.delete(s);return new Promise(function(i){o.onsuccess=function(){return i()}})}))}function Mn(t,e){var r=Date.now()-e,n=t.transaction(C,"readonly",Z),s=n.objectStore(C),o=[];return new Promise(function(i){s.openCursor().onsuccess=function(a){var c=a.target.result;if(c){var f=c.value;f.time<r?(o.push(f),c.continue()):(yt(n),i(o))}else i(o)}})}function In(t){return Mn(t.db,t.options.idb.ttl).then(function(e){return En(t,e.map(function(r){return r.id}))})}function Rn(t,e){return e=bt(e),kn(t).then(function(r){var n={closed:!1,lastCursorId:0,channelName:t,options:e,uuid:_t(),eMIs:new Yt(e.idb.ttl*2),writeBlockPromise:F,messagesCallback:null,readQueuePromises:[],db:r};return r.onclose=function(){n.closed=!0,e.idb.onclose&&e.idb.onclose()},te(n),n})}function te(t){t.closed||ee(t).then(function(){return Xt(t.options.idb.fallbackInterval)}).then(function(){return te(t)})}function xn(t,e){return!(t.uuid===e.uuid||e.eMIs.has(t.id)||t.data.time<e.messagesCallbackTime)}function ee(t){return t.closed||!t.messagesCallback?F:Pn(t.db,t.lastCursorId).then(function(e){var r=e.filter(function(n){return!!n}).map(function(n){return n.id>t.lastCursorId&&(t.lastCursorId=n.id),n}).filter(function(n){return xn(n,t)}).sort(function(n,s){return n.time-s.time});return r.forEach(function(n){t.messagesCallback&&(t.eMIs.add(n.id),t.messagesCallback(n.data))}),F})}function On(t){t.closed=!0,t.db.close()}function jn(t,e){return t.writeBlockPromise=t.writeBlockPromise.then(function(){return Cn(t.db,t.uuid,e)}).then(function(){un(0,10)===0&&In(t)}),t.writeBlockPromise}function Ln(t,e,r){t.messagesCallbackTime=r,t.messagesCallback=e,ee(t)}function Bn(){return!!$t()}function Fn(t){return t.idb.fallbackInterval*2}var Nn={create:Rn,close:On,onMessage:Ln,postMessage:jn,canBeUsed:Bn,type:Sn,averageResponseTime:Fn,microSeconds:yn},Dn=Y,Tn="pubkey.broadcastChannel-",Wn="localstorage";function ne(){var t;if(typeof window>"u")return null;try{t=window.localStorage,t=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return t}function re(t){return Tn+t}function An(t,e){return new Promise(function(r){Xt().then(function(){var n=re(t.channelName),s={token:_t(),time:Date.now(),data:e,uuid:t.uuid},o=JSON.stringify(s);ne().setItem(n,o);var i=document.createEvent("Event");i.initEvent("storage",!0,!0),i.key=n,i.newValue=o,window.dispatchEvent(i),r()})})}function Kn(t,e){var r=re(t),n=function(s){s.key===r&&e(JSON.parse(s.newValue))};return window.addEventListener("storage",n),n}function Vn(t){window.removeEventListener("storage",t)}function Jn(t,e){if(e=bt(e),!se())throw new Error("BroadcastChannel: localstorage cannot be used");var r=_t(),n=new Yt(e.localstorage.removeTimeout),s={channelName:t,uuid:r,eMIs:n};return s.listener=Kn(t,function(o){!s.messagesCallback||o.uuid!==r&&(!o.token||n.has(o.token)||o.data.time&&o.data.time<s.messagesCallbackTime||(n.add(o.token),s.messagesCallback(o.data)))}),s}function Un(t){Vn(t.listener)}function zn(t,e,r){t.messagesCallbackTime=r,t.messagesCallback=e}function se(){var t=ne();if(!t)return!1;try{var e="__broadcastchannel_check";t.setItem(e,"works"),t.removeItem(e)}catch{return!1}return!0}function qn(){var t=120,e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?t*2:t}var Hn={create:Jn,close:Un,onMessage:zn,postMessage:An,canBeUsed:se,type:Wn,averageResponseTime:qn,microSeconds:Dn},Qn=Y,Gn="simulate",wt=new Set;function Xn(t){var e={name:t,messagesCallback:null};return wt.add(e),e}function Yn(t){wt.delete(t)}function Zn(t,e){return new Promise(function(r){return setTimeout(function(){var n=Array.from(wt);n.filter(function(s){return s.name===t.name}).filter(function(s){return s!==t}).filter(function(s){return!!s.messagesCallback}).forEach(function(s){return s.messagesCallback(e)}),r()},5)})}function $n(t,e){t.messagesCallback=e}function tr(){return!0}function er(){return 5}var nr={create:Xn,close:Yn,onMessage:$n,postMessage:Zn,canBeUsed:tr,type:Gn,averageResponseTime:er,microSeconds:Qn},xt=[_n,Nn,Hn];function rr(t){var e=[].concat(t.methods,xt).filter(Boolean);if(t.type){if(t.type==="simulate")return nr;var r=e.find(function(s){return s.type===t.type});if(r)return r;throw new Error("method-type "+t.type+" not found")}t.webWorkerSupport||(e=e.filter(function(s){return s.type!=="idb"}));var n=e.find(function(s){return s.canBeUsed()});if(n)return n;throw new Error("No usable method found in "+JSON.stringify(xt.map(function(s){return s.type})))}var oe=new Set,sr=0,G=function(t,e){this.id=sr++,oe.add(this),this.name=t,this.options=bt(e),this.method=rr(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,or(this)};G._pubkey=!0;G.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(t));return Ot(this,"message",t)},postInternal:function(t){return Ot(this,"internal",t)},set onmessage(t){var e=this.method.microSeconds(),r={time:e,fn:t};Lt(this,"message",this._onML),t&&typeof t=="function"?(this._onML=r,jt(this,"message",r)):this._onML=null},addEventListener:function(t,e){var r=this.method.microSeconds(),n={time:r,fn:e};jt(this,t,n)},removeEventListener:function(t,e){var r=this._addEL[t].find(function(n){return n.fn===e});Lt(this,t,r)},close:function(){var t=this;if(!this.closed){oe.delete(this),this.closed=!0;var e=this._prepP?this._prepP:F;return this._onML=null,this._addEL.message=[],e.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(r){return r()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function Ot(t,e,r){var n=t.method.microSeconds(),s={time:n,type:e,data:r},o=t._prepP?t._prepP:F;return o.then(function(){var i=t.method.postMessage(t._state,s);return t._uMP.add(i),i.catch().then(function(){return t._uMP.delete(i)}),i})}function or(t){var e=t.method.create(t.name,t.options);cn(e)?(t._prepP=e,e.then(function(r){t._state=r})):t._state=e}function ie(t){return t._addEL.message.length>0||t._addEL.internal.length>0}function jt(t,e,r){t._addEL[e].push(r),ir(t)}function Lt(t,e,r){t._addEL[e]=t._addEL[e].filter(function(n){return n!==r}),ar(t)}function ir(t){if(!t._iL&&ie(t)){var e=function(n){t._addEL[n.type].forEach(function(s){var o=1e5,i=s.time-o;n.time>=i&&s.fn(n.data)})},r=t.method.microSeconds();t._prepP?t._prepP.then(function(){t._iL=!0,t.method.onMessage(t._state,e,r)}):(t._iL=!0,t.method.onMessage(t._state,e,r))}}function ar(t){if(t._iL&&!ie(t)){t._iL=!1;var e=t.method.microSeconds();t.method.onMessage(t._state,null,e)}}const fr=(t,{pluginOptions:e})=>{var r,n;const{broadcastChannel:s,broadcastChannelKey:o,broadcastChannelOptions:i={webWorkerSupport:!1},customPostMessage:a,onBroadcastChannel:c}=e!=null?e:{};let f=!1;const l=sn(),m=u=>{f=!0,u(),f=!1};return s&&(l.value=new G(s,i),l.value.onmessage=u=>{m(()=>{c==null||c(u,l.value,t.setFetchState)})},a&&((r=l.value)==null?void 0:r.postMessage)&&f===!1&&a((n=l.value)==null?void 0:n.postMessage.bind(l.value))),{name:"\u{1F9E9} broadcastChannel",onBefore:()=>{var u,_;typeof((u=l.value)==null?void 0:u.isClosed)=="boolean"&&((_=l.value)==null?void 0:_.isClosed)&&s&&(l.value=new G(s,i))},onSuccess:(u,_)=>{var b;s&&f===!1&&!a&&((b=l.value)==null||b.postMessage({broadcastChannel:s,broadcastChannelKey:o,data:u,params:_,error:null}))},onError:(u,_)=>{var b;s&&f===!1&&!a&&((b=l.value)==null||b.postMessage({broadcastChannel:s,broadcastChannelKey:o,params:_,error:u}))},onCancel:async()=>{var u;await((u=l.value)==null?void 0:u.close())}}},cr=Oe("useRequert-plugin-useFetchingPlugin-Store",{state:()=>({states:{}}),getters:{},actions:{setFetchingInit(t,e,r){this.states[t]={key:t,onFetching:e,isFetching:r}},setCurrentKeyData(t,e,r){var n;(n=this.states[t])!=null&&n.key?(this.states[t]={...this.states[t],data:e,status:r},this.broadcastFetching()):console.warn("key is no exist!")},broadcastFetching(){var t;for(const e in this.states)if(Object.prototype.hasOwnProperty.call(this.states,e)){const r=this.states[e];(t=r.onFetching)==null||t.call(r,r,this.states),r.isFetching&&this.isFetchingAll(r.isFetching)}},isFetchingAll(t){const e=Object.keys(this.states),r=Object.keys(this.states).filter(n=>this.states[n].status==="success");t(e.length===r.length)}}}),dr=(t,{pluginOptions:e})=>{const{fetchingKey:r,onFetching:n,isFetching:s}=e!=null?e:{},o=cr();let i;return{name:"\u{1F9E9} fetchingPlugin",onBefore:a=>{i=r==null?void 0:r(a),i&&o.setFetchingInit(i,n,s)},onSuccess:a=>{i&&o.setCurrentKeyData(i,a,"success")},onError:()=>{i&&o.setCurrentKeyData(i,null,"error")}}};export{fr as m,dr as v};
