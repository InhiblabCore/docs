import{B as dt,e as ht,m as mt,o as F,c as I,b as R,F as H,n as bt,u as gt,a as tt,w as nt,q as et,C as Pt,t as Ot}from"../app.9e8a440d.js";function y(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(e.length?" "+e.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function P(t){return!!t&&!!t[s]}function g(t){var n;return!!t&&(function(e){if(!e||typeof e!="object")return!1;var r=Object.getPrototypeOf(e);if(r===null)return!0;var o=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===xt}(t)||Array.isArray(t)||!!t[lt]||!!(!((n=t.constructor)===null||n===void 0)&&n[lt])||T(t)||B(t))}function j(t,n,e){e===void 0&&(e=!1),O(t)===0?(e?Object.keys:G)(t).forEach(function(r){e&&typeof r=="symbol"||n(r,t[r],t)}):t.forEach(function(r,o){return n(o,r,t)})}function O(t){var n=t[s];return n?n.i>3?n.i-4:n.i:Array.isArray(t)?1:T(t)?2:B(t)?3:0}function V(t,n){return O(t)===2?t.has(n):Object.prototype.hasOwnProperty.call(t,n)}function _t(t,n){return O(t)===2?t.get(n):t[n]}function st(t,n,e){var r=O(t);r===2?t.set(n,e):r===3?(t.delete(n),t.add(e)):t[n]=e}function wt(t,n){return t===n?t!==0||1/t==1/n:t!=t&&n!=n}function T(t){return kt&&t instanceof Map}function B(t){return Rt&&t instanceof Set}function b(t){return t.o||t.t}function q(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var n=Dt(t);delete n[s];for(var e=G(n),r=0;r<e.length;r++){var o=e[r],u=n[o];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[o]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[o]})}return Object.create(Object.getPrototypeOf(t),n)}function A(t,n){return n===void 0&&(n=!1),J(t)||P(t)||!g(t)||(O(t)>1&&(t.set=t.add=t.clear=t.delete=jt),Object.freeze(t),n&&j(t,function(e,r){return A(r,!0)},!0)),t}function jt(){y(2)}function J(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function d(t){var n=Nt[t];return n||y(18,t),n}function rt(){return S}function z(t,n){n&&(d("Patches"),t.u=[],t.s=[],t.v=n)}function x(t){U(t),t.p.forEach(At),t.p=null}function U(t){t===S&&(S=t.l)}function ot(t){return S={p:[],l:S,h:t,m:!0,_:0}}function At(t){var n=t[s];n.i===0||n.i===1?n.j():n.O=!0}function M(t,n){n._=n.p.length;var e=n.p[0],r=t!==void 0&&t!==e;return n.h.g||d("ES5").S(n,t,r),r?(e[s].P&&(x(n),y(4)),g(t)&&(t=D(n,t),n.l||N(n,t)),n.u&&d("Patches").M(e[s].t,t,n.u,n.s)):t=D(n,e,[]),x(n),n.u&&n.v(n.u,n.s),t!==pt?t:void 0}function D(t,n,e){if(J(n))return n;var r=n[s];if(!r)return j(n,function(u,i){return ut(t,r,n,u,i,e)},!0),n;if(r.A!==t)return n;if(!r.P)return N(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=r.i===4||r.i===5?r.o=q(r.k):r.o;j(r.i===3?new Set(o):o,function(u,i){return ut(t,r,o,u,i,e)}),N(t,o,!1),e&&t.u&&d("Patches").N(r,e,t.u,t.s)}return r.o}function ut(t,n,e,r,o,u){if(P(o)){var i=D(t,o,u&&n&&n.i!==3&&!V(n.R,r)?u.concat(r):void 0);if(st(e,r,i),!P(i))return;t.m=!1}if(g(o)&&!J(o)){if(!t.h.D&&t._<1)return;D(t,o),n&&n.A.l||N(t,o)}}function N(t,n,e){e===void 0&&(e=!1),t.h.D&&t.m&&A(n,e)}function E(t,n){var e=t[s];return(e?b(e):t)[n]}function it(t,n){if(n in t)for(var e=Object.getPrototypeOf(t);e;){var r=Object.getOwnPropertyDescriptor(e,n);if(r)return r;e=Object.getPrototypeOf(e)}}function W(t){t.P||(t.P=!0,t.l&&W(t.l))}function K(t){t.o||(t.o=q(t.t))}function $(t,n,e){var r=T(n)?d("MapSet").F(n,e):B(n)?d("MapSet").T(n,e):t.g?function(o,u){var i=Array.isArray(o),c={i:i?1:0,A:u?u.A:rt(),P:!1,I:!1,R:{},l:u,t:o,k:null,o:null,j:null,C:!1},l=c,a=L;i&&(l=[c],a=w);var f=Proxy.revocable(l,a),h=f.revoke,v=f.proxy;return c.k=v,c.j=h,v}(n,e):d("ES5").J(n,e);return(e?e.A:rt()).p.push(r),r}function St(t){return P(t)||y(22,t),function n(e){if(!g(e))return e;var r,o=e[s],u=O(e);if(o){if(!o.P&&(o.i<4||!d("ES5").K(o)))return o.t;o.I=!0,r=ct(e,u),o.I=!1}else r=ct(e,u);return j(r,function(i,c){o&&_t(o.t,i)===c||st(r,i,n(c))}),u===3?new Set(r):r}(t)}function ct(t,n){switch(n){case 2:return new Map(t);case 3:return Array.from(t)}return q(t)}var at,S,X=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",kt=typeof Map<"u",Rt=typeof Set<"u",ft=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",pt=X?Symbol.for("immer-nothing"):((at={})["immer-nothing"]=!0,at),lt=X?Symbol.for("immer-draftable"):"__$immer_draftable",s=X?Symbol.for("immer-state"):"__$immer_state",xt=""+Object.prototype.constructor,G=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,Dt=Object.getOwnPropertyDescriptors||function(t){var n={};return G(t).forEach(function(e){n[e]=Object.getOwnPropertyDescriptor(t,e)}),n},Nt={},L={get:function(t,n){if(n===s)return t;var e=b(t);if(!V(e,n))return function(o,u,i){var c,l=it(u,i);return l?"value"in l?l.value:(c=l.get)===null||c===void 0?void 0:c.call(o.k):void 0}(t,e,n);var r=e[n];return t.I||!g(r)?r:r===E(t.t,n)?(K(t),t.o[n]=$(t.A.h,r,t)):r},has:function(t,n){return n in b(t)},ownKeys:function(t){return Reflect.ownKeys(b(t))},set:function(t,n,e){var r=it(b(t),n);if(r!=null&&r.set)return r.set.call(t.k,e),!0;if(!t.P){var o=E(b(t),n),u=o==null?void 0:o[s];if(u&&u.t===e)return t.o[n]=e,t.R[n]=!1,!0;if(wt(e,o)&&(e!==void 0||V(t.t,n)))return!0;K(t),W(t)}return t.o[n]===e&&(e!==void 0||n in t.o)||Number.isNaN(e)&&Number.isNaN(t.o[n])||(t.o[n]=e,t.R[n]=!0),!0},deleteProperty:function(t,n){return E(t.t,n)!==void 0||n in t.t?(t.R[n]=!1,K(t),W(t)):delete t.R[n],t.o&&delete t.o[n],!0},getOwnPropertyDescriptor:function(t,n){var e=b(t),r=Reflect.getOwnPropertyDescriptor(e,n);return r&&{writable:!0,configurable:t.i!==1||n!=="length",enumerable:r.enumerable,value:e[n]}},defineProperty:function(){y(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){y(12)}},w={};j(L,function(t,n){w[t]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}}),w.deleteProperty=function(t,n){return w.set.call(this,t,n,void 0)},w.set=function(t,n,e){return L.set.call(this,t[0],n,e,t[0])};var Ct=function(){function t(e){var r=this;this.g=ft,this.D=!0,this.produce=function(o,u,i){if(typeof o=="function"&&typeof u!="function"){var c=u;u=o;var l=r;return function(m){var vt=this;m===void 0&&(m=c);for(var C=arguments.length,Y=Array(C>1?C-1:0),k=1;k<C;k++)Y[k-1]=arguments[k];return l.produce(m,function(yt){var Z;return(Z=u).call.apply(Z,[vt,yt].concat(Y))})}}var a;if(typeof u!="function"&&y(6),i!==void 0&&typeof i!="function"&&y(7),g(o)){var f=ot(r),h=$(r,o,void 0),v=!0;try{a=u(h),v=!1}finally{v?x(f):U(f)}return typeof Promise<"u"&&a instanceof Promise?a.then(function(m){return z(f,i),M(m,f)},function(m){throw x(f),m}):(z(f,i),M(a,f))}if(!o||typeof o!="object"){if((a=u(o))===void 0&&(a=o),a===pt&&(a=void 0),r.D&&A(a,!0),i){var _=[],Q=[];d("Patches").M(o,a,_,Q),i(_,Q)}return a}y(21,o)},this.produceWithPatches=function(o,u){if(typeof o=="function")return function(a){for(var f=arguments.length,h=Array(f>1?f-1:0),v=1;v<f;v++)h[v-1]=arguments[v];return r.produceWithPatches(a,function(_){return o.apply(void 0,[_].concat(h))})};var i,c,l=r.produce(o,u,function(a,f){i=a,c=f});return typeof Promise<"u"&&l instanceof Promise?l.then(function(a){return[a,i,c]}):[l,i,c]},typeof(e==null?void 0:e.useProxies)=="boolean"&&this.setUseProxies(e.useProxies),typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze)}var n=t.prototype;return n.createDraft=function(e){g(e)||y(8),P(e)&&(e=St(e));var r=ot(this),o=$(this,e,void 0);return o[s].C=!0,U(r),o},n.finishDraft=function(e,r){var o=e&&e[s],u=o.A;return z(u,r),M(void 0,u)},n.setAutoFreeze=function(e){this.D=e},n.setUseProxies=function(e){e&&!ft&&y(20),this.g=e},n.applyPatches=function(e,r){var o;for(o=r.length-1;o>=0;o--){var u=r[o];if(u.path.length===0&&u.op==="replace"){e=u.value;break}}o>-1&&(r=r.slice(o+1));var i=d("Patches").$;return P(e)?i(e,r):this.produce(e,function(c){return i(c,r)})},t}(),p=new Ct,Ft=p.produce;p.produceWithPatches.bind(p);p.setAutoFreeze.bind(p);p.setUseProxies.bind(p);p.applyPatches.bind(p);p.createDraft.bind(p);p.finishDraft.bind(p);function It(t){const n=dt(A(typeof t=="function"?t():t,!0));return[n,e=>{typeof e=="function"?n.value=Ft(n.value,e):n.value=A(e)}]}const zt=R("h3",null,"function updater",-1),Mt=["onClick"],Et=R("h3",null," no function updater",-1),Vt=ht({__name:"demo",setup(t){const n=[{title:"Learn Vue",done:!0},{title:"Use Vue with Immer",done:!1}],[e,r]=It(n);function o(c){r(l=>{l[c].done=!l[c].done})}const u=()=>{r([{title:"Learn Vue 1",done:!1}])},i=()=>{r(n)};return(c,l)=>{const a=mt("vhp-button");return F(),I(H,null,[zt,R("ul",null,[(F(!0),I(H,null,bt(gt(e),({title:f,done:h},v)=>(F(),I("li",{class:Pt({done:h}),key:f,onClick:_=>o(v)},Ot(f),11,Mt))),128))]),Et,R("div",null,[tt(a,{onClick:u},{default:nt(()=>[et("Set index 0 title")]),_:1}),tt(a,{onClick:i,style:{"margin-left":"8px"}},{default:nt(()=>[et("Reset")]),_:1})])],64)}}});export{Vt as _};
