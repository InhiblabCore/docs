import"./stringify.678a69ff.js";import{r as i,z as D,e as w,l as F,g as O,s as T,o as m,c as p,F as b,n as H,u as P,t as k}from"../app.d255f7e5.js";import{u as x}from"./useRequest.c8622356.js";import"./isBrowser.46f69b0e.js";function B(s){D(w({setup(){return s(),()=>{}}})).mount(document.createElement("div"))}const f="VUE_HOOKS_PLUS_USE_REQUEST_DEFAULT_KEY";function V(s){return typeof s=="string"||typeof s=="number"}function Y(s,u,o){const c=i(o==null?void 0:o.fetchKey),t=i({}),r=i({}),e=n=>{r.value=n};return{fetchs:r,fetchRun:(...n)=>{var h,_;const v=i(),l=(_=(h=c.value)==null?void 0:h.call(c,...n))!=null?_:f;v.value=l,B(()=>{const{data:d,run:K,params:y,loading:S}=x(s,{...u,cacheKey:l,manual:!0});F(()=>{t.value[l]={key:l,data:d==null?void 0:d.value,params:y.value,loading:S.value},e(t.value)}),K(...n),O([d,y,S,v],U=>{const[L=void 0,R=void 0,A=!1,g=f]=U,E=V(g)?g:f;t.value[E]={key:E,data:L,params:R,loading:A},e(t.value)})})}}}const I=w({__name:"demo",setup(s){async function u(e){return new Promise(a=>{setTimeout(()=>{a(`VueHooks Plus ${e.desc}`)},e.desc==="SSS"?4e3:2e3)})}const o=["A","S","SS","SSS"],{fetchRun:c,fetchs:t}=Y(u,{manual:!0},{fetchKey:e=>e.desc});F(()=>{o.forEach(e=>{c({desc:e})})});const r=T(()=>{var e;return Object.keys((e=t.value)!=null?e:{}).map(a=>({name:t.value[a].key,data:t.value[a].data,loading:t.value[a].loading,key:t.value[a].key}))});return(e,a)=>(m(),p("div",null,[(m(!0),p(b,null,H(P(r),n=>(m(),p("div",{key:n.key,class:"item"},k(n.loading?"loading":"")+" "+k(n.data),1))),128))]))}});export{I as _};
