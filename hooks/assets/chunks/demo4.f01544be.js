import{e as C,V as L,k as w,o,c as d,j as t,W as g,F as N,m as P,d as h,X as D,w as I,n as k,t as y,M as A,r as E,a as V,A as B,B as S,Y as F}from"../app.25ea1577.js";const R={key:0},G={style:{"margin-top":"8px"}},Z={key:1},j={key:0},at=C({__name:"demo",setup(T){const u=["0","1","2","3","4","5","6","7","8","9","10","11","12","13"];function f(c,m){let e=0;c&&(e=u.findIndex(i=>i===c));const s=e+m,a=u.slice(e,s),n=u.length>=s?u[s]:void 0;return new Promise(i=>{setTimeout(()=>{i({list:a,nextId:n})},1e3)})}const{data:p,loading:r,loadMore:v,loadingMore:x}=L(c=>f(c==null?void 0:c.nextId,4));return(c,m)=>{var s,a,n;const e=w("vhp-button");return o(),d("div",null,[t(r)?(o(),d("p",R)):g("",!0),(o(!0),d(N,null,P((s=t(p))==null?void 0:s.list,i=>(o(),d("div",{key:i,style:{padding:"12px",border:"1px solid #f5f5f5","text-align":"center"}},y(i),1))),128)),h("div",G,[(a=t(p))!=null&&a.nextId?(o(),D(e,{key:0,type:"button",onClick:m[0]||(m[0]=()=>t(v)()),disabled:t(x)},{default:I(()=>[k(y(t(x)?"Loading more...":"Click to load more"),1)]),_:1},8,["disabled"])):(o(),d("p",Z,[(n=t(p))!=null&&n.nextId?g("",!0):(o(),d("span",j,"No more data"))]))])])}}}),q={key:0},U={style:{"margin-top":"8px"}},W={key:1},X={key:0},rt=C({__name:"demo1",setup(T){const f=["0","1","2","3","4","5","6","7","8","9","10","11","12","13"];function p(e,s){const a=(e-1)*s,n=e*s,i=f.slice(a,n);return new Promise(_=>{setTimeout(()=>{_({list:i,total:f.length})},1e3)})}const{data:r,loading:v,loadMore:x,loadingMore:c}=L(e=>{const s=e?Math.ceil(e.list.length/4)+1:1;return p(s,4)}),m=A(()=>{var e;return r.value&&((e=r.value)==null?void 0:e.list.length)<r.value.total});return(e,s)=>{var n;const a=w("vhp-button");return o(),d("div",null,[t(v)?(o(),d("p",q)):g("",!0),(o(!0),d(N,null,P((n=t(r))==null?void 0:n.list,i=>(o(),d("div",{key:i,style:{padding:"12px",border:"1px solid #f5f5f5","text-align":"center"}},y(i),1))),128)),h("div",U,[t(m)?(o(),D(a,{key:0,type:"button",onClick:s[0]||(s[0]=()=>t(x)()),disabled:t(c)},{default:I(()=>[k(y(t(c)?"Loading more...":"Click to load more"),1)]),_:1},8,["disabled"])):(o(),d("p",W,[t(m)?g("",!0):(o(),d("span",X,"No more data"))]))])])}}}),Y={key:0},H={style:{"margin-top":"8px"}},J={key:1},K={key:0},lt=C({__name:"demo2",setup(T){const u=["0","1","2","3","4","5","6","7","8","9","10","11","12","13"];function f(e,s){let a=0;e&&(a=u.findIndex(l=>l===e));const n=a+s,i=u.slice(a,n),_=u.length>=n?u[n]:void 0;return new Promise(l=>{setTimeout(()=>{l({list:i,nextId:_})},1e3)})}const p=E(),{data:r,loading:v,loadMore:x,loadingMore:c,noMore:m}=L(e=>f(e==null?void 0:e.nextId,4),{target:p,isNoMore:e=>(e==null?void 0:e.nextId)===void 0});return(e,s)=>{var n;const a=w("vhp-button");return o(),d("div",{ref_key:"domRef",ref:p,style:{height:"150px",overflow:"auto",border:"1px solid",padding:"12px"}},[t(v)?(o(),d("p",Y)):g("",!0),(o(!0),d(N,null,P((n=t(r))==null?void 0:n.list,i=>(o(),d("div",{key:i,style:{padding:"12px",border:"1px solid #f5f5f5","text-align":"center"}},y(i),1))),128)),h("div",H,[t(m)?(o(),d("p",J,[t(m)?(o(),d("span",K,"No more data")):g("",!0)])):(o(),D(a,{key:0,type:"button",onClick:s[0]||(s[0]=()=>t(x)()),disabled:t(c)},{default:I(()=>[k(y(t(c)?"Loading more...":"Click to load more"),1)]),_:1},8,["disabled"]))])],512)}}}),O={style:{"margin-bottom":"16px"}},Q={key:0},z={style:{"margin-top":"8px"}},tt={key:1},et={key:0},ut=C({__name:"demo3",setup(T){const u=["0","1","2","3","4","5","6","7","8","9","10","11","12","13"];function f(e,s){let a=0;e&&(a=u.findIndex(l=>l===e));const n=a+s,i=u.slice(a,n),_=u.length>=n?u[n]:void 0;return new Promise(l=>{setTimeout(()=>{l({list:i,nextId:_})},1e3)})}const p=E(""),{data:r,loading:v,loadMore:x,loadingMore:c,reload:m}=L(e=>f(e==null?void 0:e.nextId,4),{reloadDeps:[p]});return(e,s)=>{var n,i,_;const a=w("vhp-button");return o(),d("div",null,[V(a,{onClick:s[0]||(s[0]=()=>t(m)()),style:{"margin-bottom":"8px"}},{default:I(()=>[k(" Reset ")]),_:1}),h("div",O,[k("Change will be reset\uFF1A"),B(h("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=l=>p.value=l)},null,512),[[S,p.value]])]),t(v)?(o(),d("p",Q)):g("",!0),(o(!0),d(N,null,P((n=t(r))==null?void 0:n.list,l=>(o(),d("div",{key:l,style:{padding:"12px",border:"1px solid #f5f5f5","text-align":"center"}},y(l),1))),128)),h("div",z,[(i=t(r))!=null&&i.nextId?(o(),D(a,{key:0,type:"button",onClick:s[2]||(s[2]=()=>t(x)()),disabled:t(c)},{default:I(()=>[k(y(t(c)?"Loading more...":"Click to load more"),1)]),_:1},8,["disabled"])):(o(),d("p",tt,[(_=t(r))!=null&&_.nextId?g("",!0):(o(),d("span",et,"No more data"))]))])])}}}),ot={key:0},nt={style:{"margin-top":"8px"}},st={key:1},it={key:0},ct=C({__name:"demo4",setup(T){const u=["0","1","2","3","4","5","6","7","8","9","10","11","12","13"];function f(n,i){let _=0;n&&(_=u.findIndex(b=>b===n));const l=_+i,M=u.slice(_,l),$=u.length>=l?u[l]:void 0;return new Promise(b=>{setTimeout(()=>{b({list:M,nextId:$})},1e3)})}function p(n){return new Promise(i=>{setTimeout(()=>{i()},1e3)})}const{data:r,loading:v,loadMore:x,loadingMore:c,mutate:m}=L(n=>f(n==null?void 0:n.nextId,4)),{loading:e,params:s,run:a}=F(p,{manual:!0,onSuccess:(n,[i])=>{var _,l;if(r.value){const M=(_=r.value)==null?void 0:_.list.findIndex($=>$===i);(l=r==null?void 0:r.value)==null||l.list.splice(M,1),m({...r.value})}}});return(n,i)=>{var l,M,$;const _=w("vhp-button");return o(),d("div",null,[t(v)?(o(),d("p",ot)):g("",!0),(o(!0),d(N,null,P((l=t(r))==null?void 0:l.list,b=>(o(),d("div",{key:b,style:{padding:"12px",border:"1px solid #f5f5f5","text-align":"center"}},[k(y(b)+" ",1),V(_,{style:{"margin-left":"8px"},disabled:t(e)&&t(s)[0]===b,onClick:()=>t(a)(b)},{default:I(()=>[k(" delete")]),_:2},1032,["disabled","onClick"])]))),128)),h("div",nt,[(M=t(r))!=null&&M.nextId?(o(),D(_,{key:0,type:"button",onClick:i[0]||(i[0]=()=>t(x)()),disabled:t(c)},{default:I(()=>[k(y(t(c)?"Loading more...":"Click to load more"),1)]),_:1},8,["disabled"])):(o(),d("p",st,[($=t(r))!=null&&$.nextId?g("",!0):(o(),d("span",it,"No more data"))]))])])}}});export{at as _,rt as a,lt as b,ut as c,ct as d};
