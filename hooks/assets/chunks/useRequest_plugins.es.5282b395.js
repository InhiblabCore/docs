import{ac as Wt}from"../app.5e4b2b03.js";function At(t,e){const n=Object.create(null),r=t.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return e?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const Kt=Object.prototype.hasOwnProperty,x=(t,e)=>Kt.call(t,e),v=Array.isArray,L=t=>gt(t)==="[object Map]",zt=t=>typeof t=="string",U=t=>typeof t=="symbol",D=t=>t!==null&&typeof t=="object",Vt=Object.prototype.toString,gt=t=>Vt.call(t),Jt=t=>gt(t).slice(8,-1),q=t=>zt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,G=(t,e)=>!Object.is(t,e);let nt;const rt=()=>nt||(nt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Q=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Ut=t=>(t.w&H)>0,qt=t=>(t.n&H)>0,z=new WeakMap;let H=1,S;const w=Symbol(""),V=Symbol("");let P=!0;const vt=[];function Gt(){vt.push(P),P=!1}function Qt(){const t=vt.pop();P=t===void 0?!0:t}function h(t,e,n){if(P&&S){let r=z.get(t);r||z.set(t,r=new Map);let o=r.get(n);o||r.set(n,o=Q()),_t(o)}}function _t(t,e){let n=!1;qt(t)||(t.n|=H,n=!Ut(t)),n&&(t.add(S),S.deps.push(t))}function _(t,e,n,r,o,s){const a=z.get(t);if(!a)return;let i=[];if(e==="clear")i=[...a.values()];else if(n==="length"&&v(t)){const d=Number(r);a.forEach((l,c)=>{(c==="length"||c>=d)&&i.push(l)})}else switch(n!==void 0&&i.push(a.get(n)),e){case"add":v(t)?q(n)&&i.push(a.get("length")):(i.push(a.get(w)),L(t)&&i.push(a.get(V)));break;case"delete":v(t)||(i.push(a.get(w)),L(t)&&i.push(a.get(V)));break;case"set":L(t)&&i.push(a.get(w));break}if(i.length===1)i[0]&&J(i[0]);else{const d=[];for(const l of i)l&&d.push(...l);J(Q(d))}}function J(t,e){const n=v(t)?t:[...t];for(const r of n)r.computed&&ot(r);for(const r of n)r.computed||ot(r)}function ot(t,e){(t!==S||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const Ht=At("__proto__,__v_isRef,__isVue"),wt=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(U)),Xt=bt(),Yt=bt(!0),st=Zt();function Zt(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=u(this);for(let s=0,a=this.length;s<a;s++)h(r,"get",s+"");const o=r[e](...n);return o===-1||o===!1?r[e](...n.map(u)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Gt();const r=u(this)[e].apply(this,n);return Qt(),r}}),t}function $t(t){const e=u(this);return h(e,"has",t),e.hasOwnProperty(t)}function bt(t=!1,e=!1){return function(n,r,o){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&o===(t?e?me:Ct:e?pe:kt).get(n))return n;const s=v(n);if(!t){if(s&&x(st,r))return Reflect.get(st,r,o);if(r==="hasOwnProperty")return $t}const a=Reflect.get(n,r,o);return(U(r)?wt.has(r):Ht(r))||(t||h(n,"get",r),e)?a:y(a)?s&&q(r)?a:a.value:D(a)?t?Pt(a):St(a):a}}const te=ee();function ee(t=!1){return function(e,n,r,o){let s=e[n];if(T(s)&&y(s)&&!y(r))return!1;if(!t&&(!Et(r)&&!T(r)&&(s=u(s),r=u(r)),!v(e)&&y(s)&&!y(r)))return s.value=r,!0;const a=v(e)&&q(n)?Number(n)<e.length:x(e,n),i=Reflect.set(e,n,r,o);return e===u(o)&&(a?G(r,s)&&_(e,"set",n,r):_(e,"add",n,r)),i}}function ne(t,e){const n=x(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&_(t,"delete",e,void 0),r}function re(t,e){const n=Reflect.has(t,e);return(!U(e)||!wt.has(e))&&h(t,"has",e),n}function oe(t){return h(t,"iterate",v(t)?"length":w),Reflect.ownKeys(t)}const se={get:Xt,set:te,deleteProperty:ne,has:re,ownKeys:oe},ae={get:Yt,set(t,e){return!0},deleteProperty(t,e){return!0}},X=t=>t,j=t=>Reflect.getPrototypeOf(t);function E(t,e,n=!1,r=!1){t=t.__v_raw;const o=u(t),s=u(e);n||(e!==s&&h(o,"get",e),h(o,"get",s));const{has:a}=j(o),i=r?X:n?Y:M;if(a.call(o,e))return i(t.get(e));if(a.call(o,s))return i(t.get(s));t!==o&&t.get(e)}function I(t,e=!1){const n=this.__v_raw,r=u(n),o=u(t);return e||(t!==o&&h(r,"has",t),h(r,"has",o)),t===o?n.has(t):n.has(t)||n.has(o)}function B(t,e=!1){return t=t.__v_raw,!e&&h(u(t),"iterate",w),Reflect.get(t,"size",t)}function at(t){t=u(t);const e=u(this);return j(e).has.call(e,t)||(e.add(t),_(e,"add",t,t)),this}function it(t,e){e=u(e);const n=u(this),{has:r,get:o}=j(n);let s=r.call(n,t);s||(t=u(t),s=r.call(n,t));const a=o.call(n,t);return n.set(t,e),s?G(e,a)&&_(n,"set",t,e):_(n,"add",t,e),this}function ut(t){const e=u(this),{has:n,get:r}=j(e);let o=n.call(e,t);o||(t=u(t),o=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return o&&_(e,"delete",t,void 0),s}function ct(){const t=u(this),e=t.size!==0,n=t.clear();return e&&_(t,"clear",void 0,void 0),n}function O(t,e){return function(n,r){const o=this,s=o.__v_raw,a=u(s),i=e?X:t?Y:M;return!t&&h(a,"iterate",w),s.forEach((d,l)=>n.call(r,i(d),i(l),o))}}function R(t,e,n){return function(...r){const o=this.__v_raw,s=u(o),a=L(s),i=t==="entries"||t===Symbol.iterator&&a,d=t==="keys"&&a,l=o[t](...r),c=n?X:e?Y:M;return!e&&h(s,"iterate",d?V:w),{next(){const{value:p,done:f}=l.next();return f?{value:p,done:f}:{value:i?[c(p[0]),c(p[1])]:c(p),done:f}},[Symbol.iterator](){return this}}}}function g(t){return function(...e){return t==="delete"?!1:this}}function ie(){const t={get(o){return E(this,o)},get size(){return B(this)},has:I,add:at,set:it,delete:ut,clear:ct,forEach:O(!1,!1)},e={get(o){return E(this,o,!1,!0)},get size(){return B(this)},has:I,add:at,set:it,delete:ut,clear:ct,forEach:O(!1,!0)},n={get(o){return E(this,o,!0)},get size(){return B(this,!0)},has(o){return I.call(this,o,!0)},add:g("add"),set:g("set"),delete:g("delete"),clear:g("clear"),forEach:O(!0,!1)},r={get(o){return E(this,o,!0,!0)},get size(){return B(this,!0)},has(o){return I.call(this,o,!0)},add:g("add"),set:g("set"),delete:g("delete"),clear:g("clear"),forEach:O(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=R(o,!1,!1),n[o]=R(o,!0,!1),e[o]=R(o,!1,!0),r[o]=R(o,!0,!0)}),[t,n,e,r]}const[ue,ce,le,fe]=ie();function yt(t,e){const n=e?t?fe:le:t?ce:ue;return(r,o,s)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?r:Reflect.get(x(n,o)&&o in r?n:r,o,s)}const de={get:yt(!1,!1)},he={get:yt(!0,!1)},kt=new WeakMap,pe=new WeakMap,Ct=new WeakMap,me=new WeakMap;function ge(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ve(t){return t.__v_skip||!Object.isExtensible(t)?0:ge(Jt(t))}function St(t){return T(t)?t:Mt(t,!1,se,de,kt)}function Pt(t){return Mt(t,!0,ae,he,Ct)}function Mt(t,e,n,r,o){if(!D(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=o.get(t);if(s)return s;const a=ve(t);if(a===0)return t;const i=new Proxy(t,a===2?r:n);return o.set(t,i),i}function T(t){return!!(t&&t.__v_isReadonly)}function Et(t){return!!(t&&t.__v_isShallow)}function u(t){const e=t&&t.__v_raw;return e?u(e):t}const M=t=>D(t)?St(t):t,Y=t=>D(t)?Pt(t):t;function _e(t){P&&S&&(t=u(t),_t(t.dep||(t.dep=Q())))}function we(t,e){t=u(t);const n=t.dep;n&&J(n)}function y(t){return!!(t&&t.__v_isRef===!0)}function be(t){return ye(t,!1)}function ye(t,e){return y(t)?t:new ke(t,e)}class ke{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:u(e),this._value=n?e:M(e)}get value(){return _e(this),this._value}set value(e){const n=this.__v_isShallow||Et(e)||T(e);e=n?e:u(e),G(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:M(e),we(this))}}let A,lt="__VUE_INSTANCE_SETTERS__";(A=rt()[lt])||(A=rt()[lt]=[]),A.push(t=>t);function Ce(t){return t&&typeof t.then=="function"}Promise.resolve(!1);Promise.resolve(!0);var k=Promise.resolve();function It(t,e){return t||(t=0),new Promise(function(n){return setTimeout(function(){return n(e)},t)})}function Se(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function Z(){return Math.random().toString(36).substring(2)}var ft=0,K=0;function N(){var t=new Date().getTime();return t===ft?(K++,t*1e3+K):(ft=t,K=0,t*1e3)}var Pe=N,Me="native";function Ee(t){var e={messagesCallback:null,bc:new BroadcastChannel(t),subFns:[]};return e.bc.onmessage=function(n){e.messagesCallback&&e.messagesCallback(n.data)},e}function Ie(t){t.bc.close(),t.subFns=[]}function Be(t,e){try{return t.bc.postMessage(e,!1),k}catch(n){return Promise.reject(n)}}function Oe(t,e){t.messagesCallback=e}function Re(){if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function Le(){return 150}var Te={create:Ee,close:Ie,onMessage:Oe,postMessage:Be,canBeUsed:Re,type:Me,averageResponseTime:Le,microSeconds:Pe},Bt=function(){function t(e){this.ttl=e,this.map=new Map,this._to=!1}return t.prototype.has=function(e){return this.map.has(e)},t.prototype.add=function(e){var n=this;this.map.set(e,Ot()),this._to||(this._to=!0,setTimeout(function(){n._to=!1,Fe(n)},0))},t.prototype.clear=function(){this.map.clear()},t}();function Fe(t){for(var e=Ot()-t.ttl,n=t.map[Symbol.iterator]();;){var r=n.next().value;if(!r)return;var o=r[0],s=r[1];if(s<e)t.map.delete(o);else return}}function Ot(){return new Date().getTime()}function $(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=JSON.parse(JSON.stringify(t));return typeof e.webWorkerSupport>"u"&&(e.webWorkerSupport=!0),e.idb||(e.idb={}),e.idb.ttl||(e.idb.ttl=1e3*45),e.idb.fallbackInterval||(e.idb.fallbackInterval=150),t.idb&&typeof t.idb.onclose=="function"&&(e.idb.onclose=t.idb.onclose),e.localstorage||(e.localstorage={}),e.localstorage.removeTimeout||(e.localstorage.removeTimeout=1e3*60),t.methods&&(e.methods=t.methods),e.node||(e.node={}),e.node.ttl||(e.node.ttl=1e3*60*2),e.node.maxParallelWrites||(e.node.maxParallelWrites=2048),typeof e.node.useFastPath>"u"&&(e.node.useFastPath=!0),e}var xe=N,De="pubkey.broadcast-channel-0-",m="messages",W={durability:"relaxed"},je="idb";function Rt(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function tt(t){t.commit&&t.commit()}function Ne(t){var e=Rt(),n=De+t,r=e.open(n);return r.onupgradeneeded=function(o){var s=o.target.result;s.createObjectStore(m,{keyPath:"id",autoIncrement:!0})},new Promise(function(o,s){r.onerror=function(a){return s(a)},r.onsuccess=function(){o(r.result)}})}function We(t,e,n){var r=new Date().getTime(),o={uuid:e,time:r,data:n},s=t.transaction([m],"readwrite",W);return new Promise(function(a,i){s.oncomplete=function(){return a()},s.onerror=function(l){return i(l)};var d=s.objectStore(m);d.add(o),tt(s)})}function Ae(t,e){var n=t.transaction(m,"readonly",W),r=n.objectStore(m),o=[],s=IDBKeyRange.bound(e+1,1/0);if(r.getAll){var a=r.getAll(s);return new Promise(function(d,l){a.onerror=function(c){return l(c)},a.onsuccess=function(c){d(c.target.result)}})}function i(){try{return s=IDBKeyRange.bound(e+1,1/0),r.openCursor(s)}catch{return r.openCursor()}}return new Promise(function(d,l){var c=i();c.onerror=function(p){return l(p)},c.onsuccess=function(p){var f=p.target.result;f?f.value.id<e+1?f.continue(e+1):(o.push(f.value),f.continue()):(tt(n),d(o))}})}function Ke(t,e){if(t.closed)return Promise.resolve([]);var n=t.db.transaction(m,"readwrite",W),r=n.objectStore(m);return Promise.all(e.map(function(o){var s=r.delete(o);return new Promise(function(a){s.onsuccess=function(){return a()}})}))}function ze(t,e){var n=new Date().getTime()-e,r=t.transaction(m,"readonly",W),o=r.objectStore(m),s=[];return new Promise(function(a){o.openCursor().onsuccess=function(i){var d=i.target.result;if(d){var l=d.value;l.time<n?(s.push(l),d.continue()):(tt(r),a(s))}else a(s)}})}function Ve(t){return ze(t.db,t.options.idb.ttl).then(function(e){return Ke(t,e.map(function(n){return n.id}))})}function Je(t,e){return e=$(e),Ne(t).then(function(n){var r={closed:!1,lastCursorId:0,channelName:t,options:e,uuid:Z(),eMIs:new Bt(e.idb.ttl*2),writeBlockPromise:k,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,e.idb.onclose&&e.idb.onclose()},Lt(r),r})}function Lt(t){t.closed||Tt(t).then(function(){return It(t.options.idb.fallbackInterval)}).then(function(){return Lt(t)})}function Ue(t,e){return!(t.uuid===e.uuid||e.eMIs.has(t.id)||t.data.time<e.messagesCallbackTime)}function Tt(t){return t.closed||!t.messagesCallback?k:Ae(t.db,t.lastCursorId).then(function(e){var n=e.filter(function(r){return!!r}).map(function(r){return r.id>t.lastCursorId&&(t.lastCursorId=r.id),r}).filter(function(r){return Ue(r,t)}).sort(function(r,o){return r.time-o.time});return n.forEach(function(r){t.messagesCallback&&(t.eMIs.add(r.id),t.messagesCallback(r.data))}),k})}function qe(t){t.closed=!0,t.db.close()}function Ge(t,e){return t.writeBlockPromise=t.writeBlockPromise.then(function(){return We(t.db,t.uuid,e)}).then(function(){Se(0,10)===0&&Ve(t)}),t.writeBlockPromise}function Qe(t,e,n){t.messagesCallbackTime=n,t.messagesCallback=e,Tt(t)}function He(){return!!Rt()}function Xe(t){return t.idb.fallbackInterval*2}var Ye={create:Je,close:qe,onMessage:Qe,postMessage:Ge,canBeUsed:He,type:je,averageResponseTime:Xe,microSeconds:xe},Ze=N,$e="pubkey.broadcastChannel-",tn="localstorage";function Ft(){var t;if(typeof window>"u")return null;try{t=window.localStorage,t=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return t}function xt(t){return $e+t}function en(t,e){return new Promise(function(n){It().then(function(){var r=xt(t.channelName),o={token:Z(),time:new Date().getTime(),data:e,uuid:t.uuid},s=JSON.stringify(o);Ft().setItem(r,s);var a=document.createEvent("Event");a.initEvent("storage",!0,!0),a.key=r,a.newValue=s,window.dispatchEvent(a),n()})})}function nn(t,e){var n=xt(t),r=function(o){o.key===n&&e(JSON.parse(o.newValue))};return window.addEventListener("storage",r),r}function rn(t){window.removeEventListener("storage",t)}function on(t,e){if(e=$(e),!Dt())throw new Error("BroadcastChannel: localstorage cannot be used");var n=Z(),r=new Bt(e.localstorage.removeTimeout),o={channelName:t,uuid:n,eMIs:r};return o.listener=nn(t,function(s){!o.messagesCallback||s.uuid!==n&&(!s.token||r.has(s.token)||s.data.time&&s.data.time<o.messagesCallbackTime||(r.add(s.token),o.messagesCallback(s.data)))}),o}function sn(t){rn(t.listener)}function an(t,e,n){t.messagesCallbackTime=n,t.messagesCallback=e}function Dt(){var t=Ft();if(!t)return!1;try{var e="__broadcastchannel_check";t.setItem(e,"works"),t.removeItem(e)}catch{return!1}return!0}function un(){var t=120,e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?t*2:t}var cn={create:on,close:sn,onMessage:an,postMessage:en,canBeUsed:Dt,type:tn,averageResponseTime:un,microSeconds:Ze},ln=N,fn="simulate",et=new Set;function dn(t){var e={name:t,messagesCallback:null};return et.add(e),e}function hn(t){et.delete(t)}function pn(t,e){return new Promise(function(n){return setTimeout(function(){var r=Array.from(et);r.filter(function(o){return o.name===t.name}).filter(function(o){return o!==t}).filter(function(o){return!!o.messagesCallback}).forEach(function(o){return o.messagesCallback(e)}),n()},5)})}function mn(t,e){t.messagesCallback=e}function gn(){return!0}function vn(){return 5}var _n={create:dn,close:hn,onMessage:mn,postMessage:pn,canBeUsed:gn,type:fn,averageResponseTime:vn,microSeconds:ln},dt=[Te,Ye,cn];function wn(t){var e=[].concat(t.methods,dt).filter(Boolean);if(t.type){if(t.type==="simulate")return _n;var n=e.find(function(o){return o.type===t.type});if(n)return n;throw new Error("method-type "+t.type+" not found")}t.webWorkerSupport||(e=e.filter(function(o){return o.type!=="idb"}));var r=e.find(function(o){return o.canBeUsed()});if(r)return r;throw new Error("No usable method found in "+JSON.stringify(dt.map(function(o){return o.type})))}var jt=new Set,bn=0,F=function(t,e){this.id=bn++,jt.add(this),this.name=t,this.options=$(e),this.method=wn(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,yn(this)};F._pubkey=!0;F.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(t));return ht(this,"message",t)},postInternal:function(t){return ht(this,"internal",t)},set onmessage(t){var e=this.method.microSeconds(),n={time:e,fn:t};mt(this,"message",this._onML),t&&typeof t=="function"?(this._onML=n,pt(this,"message",n)):this._onML=null},addEventListener:function(t,e){var n=this.method.microSeconds(),r={time:n,fn:e};pt(this,t,r)},removeEventListener:function(t,e){var n=this._addEL[t].find(function(r){return r.fn===e});mt(this,t,n)},close:function(){var t=this;if(!this.closed){jt.delete(this),this.closed=!0;var e=this._prepP?this._prepP:k;return this._onML=null,this._addEL.message=[],e.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(n){return n()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function ht(t,e,n){var r=t.method.microSeconds(),o={time:r,type:e,data:n},s=t._prepP?t._prepP:k;return s.then(function(){var a=t.method.postMessage(t._state,o);return t._uMP.add(a),a.catch().then(function(){return t._uMP.delete(a)}),a})}function yn(t){var e=t.method.create(t.name,t.options);Ce(e)?(t._prepP=e,e.then(function(n){t._state=n})):t._state=e}function Nt(t){return t._addEL.message.length>0||t._addEL.internal.length>0}function pt(t,e,n){t._addEL[e].push(n),kn(t)}function mt(t,e,n){t._addEL[e]=t._addEL[e].filter(function(r){return r!==n}),Cn(t)}function kn(t){if(!t._iL&&Nt(t)){var e=function(r){t._addEL[r.type].forEach(function(o){var s=1e5,a=o.time-s;r.time>=a&&o.fn(r.data)})},n=t.method.microSeconds();t._prepP?t._prepP.then(function(){t._iL=!0,t.method.onMessage(t._state,e,n)}):(t._iL=!0,t.method.onMessage(t._state,e,n))}}function Cn(t){if(t._iL&&!Nt(t)){t._iL=!1;var e=t.method.microSeconds();t.method.onMessage(t._state,null,e)}}const Mn=(t,{pluginOptions:e})=>{var n,r;const{broadcastChannel:o,broadcastChannelKey:s,broadcastChannelOptions:a={webWorkerSupport:!1},customPostMessage:i,onBroadcastChannel:d}=e!=null?e:{};let l=!1;const c=be(),p=f=>{l=!0,f(),l=!1};return o&&(c.value=new F(o,a),c.value.onmessage=f=>{p(()=>{d==null||d(f,c.value,t.setFetchState)})},i&&((n=c.value)==null?void 0:n.postMessage)&&l===!1&&i((r=c.value)==null?void 0:r.postMessage.bind(c.value))),{name:"\u{1F9E9} broadcastChannel",onBefore:()=>{var f,b;typeof((f=c.value)==null?void 0:f.isClosed)=="boolean"&&((b=c.value)==null?void 0:b.isClosed)&&o&&(c.value=new F(o,a))},onSuccess:(f,b)=>{var C;o&&l===!1&&!i&&((C=c.value)==null||C.postMessage({broadcastChannel:o,broadcastChannelKey:s,data:f,params:b,error:null}))},onError:(f,b)=>{var C;o&&l===!1&&!i&&((C=c.value)==null||C.postMessage({broadcastChannel:o,broadcastChannelKey:s,params:b,error:f}))},onCancel:async()=>{var f;await((f=c.value)==null?void 0:f.close())}}},Sn=Wt("useRequert-plugin-useFetchingPlugin-Store",{state:()=>({states:{}}),getters:{},actions:{setFetchingInit(t,e,n){this.states[t]={key:t,onFetching:e,isFetching:n}},setCurrentKeyData(t,e,n){var r;(r=this.states[t])!=null&&r.key?(this.states[t]={...this.states[t],data:e,status:n},this.broadcastFetching()):console.warn("key is no exist!")},broadcastFetching(){var t;for(const e in this.states)if(Object.prototype.hasOwnProperty.call(this.states,e)){const n=this.states[e];(t=n.onFetching)==null||t.call(n,n,this.states),n.isFetching&&this.isFetchingAll(n.isFetching)}},isFetchingAll(t){const e=Object.keys(this.states),n=Object.keys(this.states).filter(r=>this.states[r].status==="success");t(e.length===n.length)}}}),En=(t,{pluginOptions:e})=>{const{fetchingKey:n,onFetching:r,isFetching:o}=e!=null?e:{},s=Sn();let a;return{name:"\u{1F9E9} fetchingPlugin",onBefore:i=>{a=n==null?void 0:n(i),a&&s.setFetchingInit(a,r,o)},onSuccess:i=>{a&&s.setCurrentKeyData(a,i,"success")},onError:()=>{a&&s.setCurrentKeyData(a,null,"error")}}};export{En as E,Mn as w};
