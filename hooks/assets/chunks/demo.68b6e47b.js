import{e as C,az as V,N as w,r as D,K as B,n as E,o as s,c as u,u as t,m as d,w as p,f as m,k as c,t as o,d as a,F,l as h}from"../app.367c0303.js";const N={style:{height:"400px",overflow:"scroll"}},S={style:{"margin-top":"8px"}},b={style:{"margin-top":"8px"}},J={style:{"margin-top":"8px"}},R=C({__name:"demo",setup(L){const{readyState:n,sendMessage:v,latestMessage:k,disconnect:f,connect:g}=V("wss://demo.piesocket.com/v3/channel_1?api_key=VCXCEuvhGcBDP7XhiJJUDvR1e1D3eiVjgZ9VRiaV&notify_self"),y=w(()=>k.value),l=D([]);return B(()=>{var r,e;(r=y.value)!=null&&r.data&&l.value.push((e=y.value)==null?void 0:e.data)}),(r,e)=>{const i=E("vhp-button");return s(),u("div",N,[t(n)===1?(s(),d(i,{key:0,onClick:e[0]||(e[0]=()=>t(v)&&t(v)(`${Date.now()}`))},{default:p(()=>e[3]||(e[3]=[m("\u2709\uFE0F send")])),_:1})):c("",!0),t(n)===1?(s(),d(i,{key:1,style:{"margin-left":"8px"},onClick:e[1]||(e[1]=()=>t(f)&&t(f)())},{default:p(()=>e[4]||(e[4]=[m(" \u274C disconnect")])),_:1})):c("",!0),t(n)!==1?(s(),d(i,{key:2,style:{"margin-left":"8px"},onClick:e[2]||(e[2]=()=>t(g)&&t(g)())},{default:p(()=>[m(o(t(n)===0?"connecting":"\u{1F4DE} connect"),1)]),_:1})):c("",!0),a("div",S,"readyState: "+o(t(n)),1),a("div",b," message count: "+o(l.value.length),1),a("div",J,[e[5]||(e[5]=a("p",null,"received message: ",-1)),(s(!0),u(F,null,h(l.value,(_,x)=>(s(),u("p",{key:x},o(_),1))),128))])])}}});export{R as _};
