import{e as k,r as a,m as w,o as r,c as l,d as t,t as m,u,a as p,w as v,q as h,x as D,y as $,F as f,n as B}from"../app.ef79bfbe.js";import{u as V}from"./useRequest.06bfe07d.js";import"./stringify.60fa8c72.js";import{l as N}from"./useRequest_plugins.es.11b244f9.js";const S={style:{"margin-top":"8px"}},T=t("h4",null,"Desc",-1),q=t("h3",null,"Channel History:",-1),L=k({__name:"demo",setup(F){function _(o){return new Promise(e=>{setTimeout(()=>{e(`${o.desc}-${String(Date.now())}`)},1e3)})}const i=a([]),s=a(""),d=a("good"),C=()=>{d.value=`send-other-${s.value}`},{data:g,loading:x,refresh:y}=V(()=>_({desc:d.value}),{refreshDeps:!0,broadcastChannel:"nice-broadcastChannel",onBroadcastChannel:(o,e)=>{i.value.push(o.data)}},[N]);return(o,e)=>{const c=w("vhp-button");return r(),l(f,null,[t("div",null,"Current: "+m(u(x)?"loading..":u(g)),1),t("div",null,[p(c,{onClick:e[0]||(e[0]=n=>u(y)())},{default:v(()=>[h("Refresh")]),_:1}),t("div",S,[T,D(t("input",{"onUpdate:modelValue":e[1]||(e[1]=n=>s.value=n)},null,512),[[$,s.value]]),p(c,{style:{"margin-left":"4px"},onClick:e[2]||(e[2]=n=>C())},{default:v(()=>[h("Send")]),_:1})])]),t("div",null,[q,(r(!0),l(f,null,B(i.value,(n,b)=>(r(),l("div",{key:b},m(n),1))),128))])],64)}}});export{L as _};
