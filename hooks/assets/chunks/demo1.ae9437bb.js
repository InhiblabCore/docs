import{e as b,r as C,ab as k,N as F,X as w,n as $,o as T,c as V,d as n,a as i,w as s,f as u,t as e,u as d,F as A}from"../app.367c0303.js";const S={style:{"margin-top":"16px"}},L={style:{"margin-top":"16px"}},P={style:{"margin-top":"16px"}},R=b({__name:"demo",setup(N){function D({id:v,storeId:t,count:l}){return new Promise(a=>{setTimeout(()=>{a({time:Date.now(),id:v,storeId:t,count:l})},1e3)})}const p=C(1),m=k({id:1}),o=C(0),I=F(()=>o.value!==0&&o.value!==5),{data:r,loading:x}=w(()=>D({id:p.value,storeId:m.id,count:o.value}),{initialData:{time:Date.now(),id:"-",count:"-",storeId:"-"},ready:I,refreshDeps:[p,()=>m.id,o]});return(v,t)=>{var a,g,f,y;const l=$("vhp-button");return T(),V(A,null,[n("div",S,[n("div",null,[i(l,{type:"button",onClick:t[0]||(t[0]=B=>o.value++)},{default:s(()=>[u("count is "+e(o.value),1)]),_:1}),t[5]||(t[5]=n("div",{style:{opacity:"0.6"}}," count !==0 and count !==5 ready is true ",-1))]),t[10]||(t[10]=n("br",null,null,-1)),i(l,{onClick:t[1]||(t[1]=()=>p.value=1)},{default:s(()=>t[6]||(t[6]=[u("Change ID = 1")])),_:1}),i(l,{onClick:t[2]||(t[2]=()=>p.value=2),style:{"margin-left":"16px"}},{default:s(()=>t[7]||(t[7]=[u("Change ID = 2")])),_:1}),i(l,{onClick:t[3]||(t[3]=()=>m.id=1),style:{"margin-left":"16px"}},{default:s(()=>t[8]||(t[8]=[u(" Change store ID = 1 ")])),_:1}),i(l,{onClick:t[4]||(t[4]=()=>m.id=2),style:{"margin-left":"16px"}},{default:s(()=>t[9]||(t[9]=[u(" Change store ID = 2 ")])),_:1})]),n("div",L,"Loading\uFF1A"+e(d(x)?"loading":""),1),n("div",P,[t[12]||(t[12]=u("Data Value\uFF1A ")),n("div",null,[n("table",null,[t[11]||(t[11]=n("thead",null,[n("th",null,"Time"),n("th",null,"Id"),n("th",null,"StoreId"),n("th",null,"Count")],-1)),n("tbody",null,[n("tr",null,[n("th",null,e((a=d(r))==null?void 0:a.time),1),n("th",null,e((g=d(r))==null?void 0:g.id),1),n("th",null,e((f=d(r))==null?void 0:f.storeId),1),n("th",null,e((y=d(r))==null?void 0:y.count),1)])])])])])],64)}}}),U={style:{"margin-top":"16px"}},q={style:{"margin-top":"16px"}},E={style:{"margin-top":"16px"}},W=b({__name:"demo1",setup(N){function D({id:v,storeId:t,count:l}){return new Promise(a=>{setTimeout(()=>{a({time:Date.now(),id:v,storeId:t,count:l})},3e3)})}const p=C(1),m=k({id:1}),o=C(0),I=F(()=>o.value!==0),{data:r,loading:x}=w(()=>D({id:p.value,storeId:m.id,count:o.value}),{initialData:{time:Date.now(),id:"-",count:"-",storeId:"-"},ready:I,debounceWait:2e3,refreshDeps:!0,debugKey:"test"});return(v,t)=>{var a,g,f,y;const l=$("vhp-button");return T(),V(A,null,[n("div",U,[n("div",null,[i(l,{type:"button",onClick:t[0]||(t[0]=B=>o.value++)},{default:s(()=>[u("count is "+e(o.value),1)]),_:1}),t[5]||(t[5]=n("div",{style:{opacity:"0.6"}}," count !==0 and count !==5 ready is true ",-1))]),t[10]||(t[10]=n("br",null,null,-1)),i(l,{onClick:t[1]||(t[1]=()=>p.value=1)},{default:s(()=>t[6]||(t[6]=[u("Change ID = 1")])),_:1}),i(l,{onClick:t[2]||(t[2]=()=>p.value=2),style:{"margin-left":"16px"}},{default:s(()=>t[7]||(t[7]=[u("Change ID = 2")])),_:1}),i(l,{onClick:t[3]||(t[3]=()=>m.id=1),style:{"margin-left":"16px"}},{default:s(()=>t[8]||(t[8]=[u(" Change store ID = 1 ")])),_:1}),i(l,{onClick:t[4]||(t[4]=()=>m.id=2),style:{"margin-left":"16px"}},{default:s(()=>t[9]||(t[9]=[u(" Change store ID = 2 ")])),_:1})]),n("div",q,"Loading\uFF1A"+e(d(x)?"loading":""),1),n("div",E,[t[12]||(t[12]=n("span",null,"Data Value\uFF1A",-1)),n("div",null,[n("table",null,[t[11]||(t[11]=n("thead",null,[n("th",null,"Time"),n("th",null,"Id"),n("th",null,"StoreId"),n("th",null,"Count")],-1)),n("tbody",null,[n("tr",null,[n("th",null,e((a=d(r))==null?void 0:a.time),1),n("th",null,e((g=d(r))==null?void 0:g.id),1),n("th",null,e((f=d(r))==null?void 0:f.storeId),1),n("th",null,e((y=d(r))==null?void 0:y.count),1)])])])])])],64)}}});export{R as _,W as a};
