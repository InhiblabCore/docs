import{y as L,z as _,A as C}from"./stringify.9bdfe860.js";import"./intersection-observer.38c1bba6.js";import{a as A}from"./index.e75084bd.js";import{u as k}from"./index.e9d3f31a.js";import{r as E,g as D,e as V,m as $,o as H,c as Q,a as h,w as g,q as v,d as w,t as S,u as P}from"../app.9c682a42.js";var p=L,O=Object.prototype.hasOwnProperty,I=Array.isArray,d={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:p.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},B=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},x=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},T="utf8=%26%2310003%3B",z="utf8=%E2%9C%93",F=function(e,r){var u={},f=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,l=f.split(r.delimiter,s),c=-1,a,n=r.charset;if(r.charsetSentinel)for(a=0;a<l.length;++a)l[a].indexOf("utf8=")===0&&(l[a]===z?n="utf-8":l[a]===T&&(n="iso-8859-1"),c=a,a=l.length);for(a=0;a<l.length;++a)if(a!==c){var i=l[a],m=i.indexOf("]="),b=m===-1?i.indexOf("="):m+1,y,o;b===-1?(y=r.decoder(i,d.decoder,n,"key"),o=r.strictNullHandling?null:""):(y=r.decoder(i.slice(0,b),d.decoder,n,"key"),o=p.maybeMap(x(i.slice(b+1),r),function(j){return r.decoder(j,d.decoder,n,"value")})),o&&r.interpretNumericEntities&&n==="iso-8859-1"&&(o=B(o)),i.indexOf("[]=")>-1&&(o=I(o)?[o]:o),O.call(u,y)?u[y]=p.combine(u[y],o):u[y]=o}return u},K=function(t,e,r,u){for(var f=u?e:x(e,r),s=t.length-1;s>=0;--s){var l,c=t[s];if(c==="[]"&&r.parseArrays)l=[].concat(f);else{l=r.plainObjects?Object.create(null):{};var a=c.charAt(0)==="["&&c.charAt(c.length-1)==="]"?c.slice(1,-1):c,n=parseInt(a,10);!r.parseArrays&&a===""?l={0:f}:!isNaN(n)&&c!==a&&String(n)===a&&n>=0&&r.parseArrays&&n<=r.arrayLimit?(l=[],l[n]=f):a!=="__proto__"&&(l[a]=f)}f=l}return f},U=function(e,r,u,f){if(!!e){var s=u.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,l=/(\[[^[\]]*])/,c=/(\[[^[\]]*])/g,a=u.depth>0&&l.exec(s),n=a?s.slice(0,a.index):s,i=[];if(n){if(!u.plainObjects&&O.call(Object.prototype,n)&&!u.allowPrototypes)return;i.push(n)}for(var m=0;u.depth>0&&(a=c.exec(s))!==null&&m<u.depth;){if(m+=1,!u.plainObjects&&O.call(Object.prototype,a[1].slice(1,-1))&&!u.allowPrototypes)return;i.push(a[1])}return a&&i.push("["+s.slice(a.index)+"]"),K(i,r,u,f)}},M=function(e){if(!e)return d;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset=="undefined"?d.charset:e.charset;return{allowDots:typeof e.allowDots=="undefined"?d.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:d.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:d.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:d.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:d.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:d.comma,decoder:typeof e.decoder=="function"?e.decoder:d.decoder,delimiter:typeof e.delimiter=="string"||p.isRegExp(e.delimiter)?e.delimiter:d.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:d.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:d.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:d.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:d.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:d.strictNullHandling}},W=function(t,e){var r=M(e);if(t===""||t===null||typeof t=="undefined")return r.plainObjects?Object.create(null):{};for(var u=typeof t=="string"?F(t,r):t,f=r.plainObjects?Object.create(null):{},s=Object.keys(u),l=0;l<s.length;++l){var c=s[l],a=U(c,u[c],r,typeof t=="string");f=p.merge(f,a,r)}return r.allowSparse===!0?f:p.compact(f)},q=_,G=W,J=C,N={formats:J,parse:G,stringify:q};function X(t){return N.stringify(t)}function Y(t,e){return N.parse(t,{arrayLimit:1e4,decoder(r,u,f){const s=r.replace(/\+/g," ");if(f==="iso-8859-1")return s.replace(/%[0-9a-f]{2}/gi,unescape);if(e&&/^[+-]?\d+(\.\d+)?$/.test(r))return parseFloat(r);const l={true:!0,false:!1,null:null,undefined:void 0};if(r in l)return l[r];try{return decodeURIComponent(s)}catch{return s}}})}function Z(t,e){var n;const r=e!=null&&e.routerPush?e.routerPush:i=>location.hash=i,{localStorageKey:u,detectNumber:f=!0}=e!=null?e:{},[s,l]=location.hash.slice(1).split("?"),c=(n=A(t)?t():t)!=null?n:{},a=u?k(u,{defaultValue:c})[0]:E(c);if(l)try{const i=Y(l,f);a.value={...c,...a.value,...i}}catch{a.value=c}if(t&&Object.keys(t).length){const i={...t};for(const m in i)m in a.value&&(i[m]=a.value[m]);a.value=i}return D(a,()=>{const i=X(a.value);r(`${s}?${i}`)},{deep:!0,immediate:!0}),a}const R=w("br",null,null,-1),le=V({__name:"demo",setup(t){const e={count:0,page:1},r=Z(e,{localStorageKey:"localStorageKey"}),u=()=>r.value.count++,f=()=>r.value.count--,s=()=>r.value.page++,l=()=>r.value.page--,c=()=>r.value=Object.assign({},e);return(a,n)=>{const i=$("vhp-button");return H(),Q("div",null,[h(i,{onClick:n[0]||(n[0]=()=>u())},{default:g(()=>[v("add")]),_:1}),h(i,{style:{"margin-left":"16px"},onClick:n[1]||(n[1]=()=>f())},{default:g(()=>[v("sub")]),_:1}),h(i,{style:{"margin-left":"16px"},onClick:n[2]||(n[2]=()=>s())},{default:g(()=>[v("add-page")]),_:1}),h(i,{style:{"margin-left":"16px"},onClick:n[3]||(n[3]=()=>l())},{default:g(()=>[v("sub-page")]),_:1}),h(i,{style:{"margin-left":"16px"},onClick:n[4]||(n[4]=()=>c())},{default:g(()=>[v(" clear ")]),_:1}),R,w("div",null,"count: "+S(P(r).count),1),w("div",null,"page: "+S(P(r).page),1)])}}});export{le as _};
