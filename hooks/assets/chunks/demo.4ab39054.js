import{t as L,v as C,w as A}from"./stringify.421d9888.js";import{a as E}from"./index.36bbfc15.js";import{u as k}from"./index.3c6167ba.js";import{r as S,j as D,g as V,e as $,n as H,o as Q,c as I,a as v,w as g,s as b,d as w,t as P,u as x}from"../app.90f4be9f.js";var h=L,O=Object.prototype.hasOwnProperty,B=Array.isArray,d={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:h.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},T=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},N=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},F="utf8=%26%2310003%3B",K="utf8=%E2%9C%93",z=function(e,r){var i={},s=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,c=r.parameterLimit===1/0?void 0:r.parameterLimit,l=s.split(r.delimiter,c),u=-1,n,a=r.charset;if(r.charsetSentinel)for(n=0;n<l.length;++n)l[n].indexOf("utf8=")===0&&(l[n]===K?a="utf-8":l[n]===F&&(a="iso-8859-1"),u=n,n=l.length);for(n=0;n<l.length;++n)if(n!==u){var f=l[n],o=f.indexOf("]="),y=o===-1?f.indexOf("="):o+1,p,m;y===-1?(p=r.decoder(f,d.decoder,a,"key"),m=r.strictNullHandling?null:""):(p=r.decoder(f.slice(0,y),d.decoder,a,"key"),m=h.maybeMap(N(f.slice(y+1),r),function(_){return r.decoder(_,d.decoder,a,"value")})),m&&r.interpretNumericEntities&&a==="iso-8859-1"&&(m=T(m)),f.indexOf("[]=")>-1&&(m=B(m)?[m]:m),O.call(i,p)?i[p]=h.combine(i[p],m):i[p]=m}return i},U=function(t,e,r,i){for(var s=i?e:N(e,r),c=t.length-1;c>=0;--c){var l,u=t[c];if(u==="[]"&&r.parseArrays)l=[].concat(s);else{l=r.plainObjects?Object.create(null):{};var n=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,a=parseInt(n,10);!r.parseArrays&&n===""?l={0:s}:!isNaN(a)&&u!==n&&String(a)===n&&a>=0&&r.parseArrays&&a<=r.arrayLimit?(l=[],l[a]=s):n!=="__proto__"&&(l[n]=s)}s=l}return s},M=function(e,r,i,s){if(!!e){var c=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,l=/(\[[^[\]]*])/,u=/(\[[^[\]]*])/g,n=i.depth>0&&l.exec(c),a=n?c.slice(0,n.index):c,f=[];if(a){if(!i.plainObjects&&O.call(Object.prototype,a)&&!i.allowPrototypes)return;f.push(a)}for(var o=0;i.depth>0&&(n=u.exec(c))!==null&&o<i.depth;){if(o+=1,!i.plainObjects&&O.call(Object.prototype,n[1].slice(1,-1))&&!i.allowPrototypes)return;f.push(n[1])}return n&&f.push("["+c.slice(n.index)+"]"),U(f,r,i,s)}},W=function(e){if(!e)return d;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset=="undefined"?d.charset:e.charset;return{allowDots:typeof e.allowDots=="undefined"?d.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:d.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:d.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:d.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:d.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:d.comma,decoder:typeof e.decoder=="function"?e.decoder:d.decoder,delimiter:typeof e.delimiter=="string"||h.isRegExp(e.delimiter)?e.delimiter:d.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:d.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:d.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:d.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:d.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:d.strictNullHandling}},G=function(t,e){var r=W(e);if(t===""||t===null||typeof t=="undefined")return r.plainObjects?Object.create(null):{};for(var i=typeof t=="string"?z(t,r):t,s=r.plainObjects?Object.create(null):{},c=Object.keys(i),l=0;l<c.length;++l){var u=c[l],n=M(u,i[u],r,typeof t=="string");s=h.merge(s,n,r)}return r.allowSparse===!0?s:h.compact(s)},J=C,X=G,Y=A,j={formats:Y,parse:X,stringify:J};function Z(t){return j.stringify(t)}function q(t,e){return j.parse(t,{arrayLimit:1e4,decoder(r,i,s){const c=r.replace(/\+/g," ");if(s==="iso-8859-1")return c.replace(/%[0-9a-f]{2}/gi,unescape);if(e&&/^[+-]?\d+(\.\d+)?$/.test(r))return parseFloat(r);const l={true:!0,false:!1,null:null,undefined:void 0};if(r in l)return l[r];try{return decodeURIComponent(c)}catch{return c}}})}function R(t,e){var f;const r=e!=null&&e.routerPush?e.routerPush:o=>location.hash=o,{localStorageKey:i,detectNumber:s=!0}=e!=null?e:{},[c,l]=location.hash.slice(1).split("?"),u=(f=E(t)?t():t)!=null?f:{},n=i?k(i,{defaultValue:u})[0]:S(u),a=S();if(D(()=>{a.value=n.value}),l)try{const o=q(l,s);a.value={...u,...a.value,...o}}catch{a.value=u}if(t&&Object.keys(t).length){const o={...t};if(a.value)for(const y in o)y in a.value&&(o[y]=a.value[y]);a.value=o}return V(a,()=>{if(a.value){const o=Z(a.value);r(`${c}?${o}`)}},{deep:!0,immediate:!0}),a}const ee=w("br",null,null,-1),le=$({__name:"demo",setup(t){const e={count:0,page:1},r=R(e,{localStorageKey:"localStorageKey"}),i=()=>r.value.count++,s=()=>r.value.count--,c=()=>r.value.page++,l=()=>r.value.page--,u=()=>r.value=Object.assign({},e);return(n,a)=>{const f=H("vhp-button");return Q(),I("div",null,[v(f,{onClick:a[0]||(a[0]=()=>i())},{default:g(()=>[b("add")]),_:1}),v(f,{style:{"margin-left":"16px"},onClick:a[1]||(a[1]=()=>s())},{default:g(()=>[b("sub")]),_:1}),v(f,{style:{"margin-left":"16px"},onClick:a[2]||(a[2]=()=>c())},{default:g(()=>[b("add-page")]),_:1}),v(f,{style:{"margin-left":"16px"},onClick:a[3]||(a[3]=()=>l())},{default:g(()=>[b("sub-page")]),_:1}),v(f,{style:{"margin-left":"16px"},onClick:a[4]||(a[4]=()=>u())},{default:g(()=>[b(" clear ")]),_:1}),ee,w("div",null,"count: "+P(x(r).count),1),w("div",null,"page: "+P(x(r).page),1)])}}});export{le as _};
