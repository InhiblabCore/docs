import"./stringify.a5507314.js";import{g as A}from"./domTarget.b96984d9.js";import{u as I}from"./useEffectWithTarget.a239e03a.js";import{r as c,k as U,e as k,n as x,o as B,c as F,d as w,t as P,u as M,a as y,w as C,s as N}from"../app.8202eaee.js";const O=()=>"PointerEvent"in window?{mouseDown:"pointerdown",mouseUp:"pointerup",mouseMove:"pointermove"}:"ontouchstart"in window||navigator.maxTouchPoints>0?{mouseDown:"touchstart",mouseUp:"touchend",mouseMove:"touchmove"}:{mouseDown:"mousedown",mouseUp:"mouseup",mouseMove:"mousemove"},V=(o,e={})=>{var f,d;const i=c(!1),u=c(0);let n,a;const m={capture:(f=e==null?void 0:e.modifiers)==null?void 0:f.capture,once:(d=e==null?void 0:e.modifiers)==null?void 0:d.once};return I(()=>{var g;const t=A(o);if(!t)return;const{mouseDown:E,mouseUp:T,mouseMove:p}=O();function r(){a&&(clearTimeout(a),a=void 0),n&&(clearInterval(n),n=void 0),u.value=0,i.value=!1}function _(s){var D,h,L;((D=e.modifiers)==null?void 0:D.self)&&s.target!==t||(r(),(h=e.modifiers)!=null&&h.prevent&&s.preventDefault(),(L=e.modifiers)!=null&&L.stop&&s.stopPropagation(),a=setTimeout(()=>{i.value=!0,n=setInterval(()=>{u.value+=e.minUpdateTime||100},e.minUpdateTime||100)},e.delay||500))}return t.addEventListener(E,_,m),t.addEventListener(T,r,m),((g=e.cancelOnMove)==null||g)&&t.addEventListener(p,r,m),()=>{var s;t.removeEventListener(E,_),t.removeEventListener(T,r),((s=e.cancelOnMove)==null||s)&&t.removeEventListener(p,r)}},[],o),{isPressing:U(i),pressingTime:U(u)}},j=k({__name:"demo",setup(o){const e=c(null),{pressingTime:v,isPressing:l}=V(e);return(i,u)=>{const n=x("vhp-button");return B(),F("div",null,[w("p",null,P(M(v))+" ms ",1),w("div",null,[y(n,{ref_key:"pressButton",ref:e},{default:C(()=>[N(P(M(l)?"Pressing":"Click"),1)]),_:1},512)])])}}});export{j as _};
