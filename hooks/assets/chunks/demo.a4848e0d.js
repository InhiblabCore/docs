import{e as h,E as d}from"./stringify.f6d6dd2f.js";import{r as u,s as E,l as x,e as r,o as i,c as v,t as b,b as l,F as A,m as C,a as c,w as p,q as _,u as G}from"../app.3355c605.js";import"./intersection-observer.38c1bba6.js";function s(n){const e=u(),t=E(()=>n!=null?n:{global:!1});return e.value||(e.value=t.value.global?e.value=h:e.value=new d),x(a=>{a(()=>{var o;return(o=e.value)==null?void 0:o.clear()})}),e.value}const F={style:{"margin-top":"16px"}},k=r({__name:"GlobalDemo",setup(n){const e=s({global:!0}),t=u(0);return e.useSubscription("change",()=>{t.value+=1}),(a,o)=>(i(),v("div",F,"Global Event count\uFF1A "+b(t.value),1))}}),w=r({__name:"DemoA",props:{event:null},setup(n){const e=n,t=s({global:!0}),a=u(0);e.event.useSubscription("change",()=>{a.value+=1});const o=()=>{t.emit("change")};return(g,f)=>(i(),v(A,null,[l("div",null,"A Component props event \uFF1A "+b(a.value),1),l("div",{style:{"margin-top":"8px"}},[l("a",{onClick:o},"Global is performed within subcomponent A ")])],64))}}),D=r({__name:"demo",setup(n){const e=s({global:!0}),t=s(),a=()=>{e.emit("change")},o=()=>{t.emit("change")};return(g,f)=>{const m=C("vhp-button");return i(),v("div",null,[l("div",null,[c(m,{onClick:a},{default:p(()=>[_(" Global Event ")]),_:1}),c(m,{onClick:o,style:{"margin-left":"16px"}},{default:p(()=>[_("Sub-event A communication")]),_:1})]),l("div",null,[c(k),c(w,{event:G(t)},null,8,["event"])])])}}});export{D as _};
