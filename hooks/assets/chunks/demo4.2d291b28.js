import{e as C,W as L,n as w,o,c as i,u as t,k as x,F as N,l as D,d as h,m as P,w as I,f as k,t as g,N as R,r as V,a as F,A,B as E,X as S}from"../app.367c0303.js";const q={key:0},G={style:{"margin-top":"8px"}},U={key:1},W={key:0},rt=C({__name:"demo",setup(T){const r=["0","1","2","3","4","5","6","7","8","9","10","11","12","13"];function v(p,u){let e=0;p&&(e=r.findIndex(d=>d===p));const s=e+u,l=r.slice(e,s),n=r.length>=s?r[s]:void 0;return new Promise(d=>{setTimeout(()=>{d({list:l,nextId:n})},1e3)})}const{data:_,loading:c,loadMore:y,loadingMore:f}=L(p=>v(p==null?void 0:p.nextId,4));return(p,u)=>{var s,l,n;const e=w("vhp-button");return o(),i("div",null,[t(c)?(o(),i("p",q)):x("",!0),(o(!0),i(N,null,D((s=t(_))==null?void 0:s.list,d=>(o(),i("div",{key:d,style:{padding:"12px",border:"1px solid #f5f5f5","text-align":"center"}},g(d),1))),128)),h("div",G,[(l=t(_))!=null&&l.nextId?(o(),P(e,{key:0,type:"button",onClick:u[0]||(u[0]=()=>t(y)()),disabled:t(f)},{default:I(()=>[k(g(t(f)?"Loading more...":"Click to load more"),1)]),_:1},8,["disabled"])):(o(),i("p",U,[(n=t(_))!=null&&n.nextId?x("",!0):(o(),i("span",W,"No more data"))]))])])}}}),X={key:0},Z={style:{"margin-top":"8px"}},j={key:1},H={key:0},B=4,at=C({__name:"demo1",setup(T){const r=["0","1","2","3","4","5","6","7","8","9","10","11","12","13"];function v(u,e){const s=(u-1)*e,l=u*e,n=r.slice(s,l);return new Promise(d=>{setTimeout(()=>{d({list:n,total:r.length})},1e3)})}const{data:_,loading:c,loadMore:y,loadingMore:f}=L(u=>{const e=u?Math.ceil(u.list.length/B)+1:1;return v(e,B)}),p=R(()=>{var u;return _.value&&((u=_.value)==null?void 0:u.list.length)<_.value.total});return(u,e)=>{var l;const s=w("vhp-button");return o(),i("div",null,[t(c)?(o(),i("p",X)):x("",!0),(o(!0),i(N,null,D((l=t(_))==null?void 0:l.list,n=>(o(),i("div",{key:n,style:{padding:"12px",border:"1px solid #f5f5f5","text-align":"center"}},g(n),1))),128)),h("div",Z,[p.value?(o(),P(s,{key:0,type:"button",onClick:e[0]||(e[0]=()=>t(y)()),disabled:t(f)},{default:I(()=>[k(g(t(f)?"Loading more...":"Click to load more"),1)]),_:1},8,["disabled"])):(o(),i("p",j,[p.value?x("",!0):(o(),i("span",H,"No more data"))]))])])}}}),J={key:0},K={style:{"margin-top":"8px"}},O={key:1},Q={key:0},ut=C({__name:"demo2",setup(T){const r=["0","1","2","3","4","5","6","7","8","9","10","11","12","13"];function v(e,s){let l=0;e&&(l=r.findIndex(a=>a===e));const n=l+s,d=r.slice(l,n),m=r.length>=n?r[n]:void 0;return new Promise(a=>{setTimeout(()=>{a({list:d,nextId:m})},1e3)})}const _=V(),{data:c,loading:y,loadMore:f,loadingMore:p,noMore:u}=L(e=>v(e==null?void 0:e.nextId,4),{target:_,isNoMore:e=>(e==null?void 0:e.nextId)===void 0});return(e,s)=>{var n;const l=w("vhp-button");return o(),i("div",{ref_key:"domRef",ref:_,style:{height:"150px",overflow:"auto",border:"1px solid",padding:"12px"}},[t(y)?(o(),i("p",J)):x("",!0),(o(!0),i(N,null,D((n=t(c))==null?void 0:n.list,d=>(o(),i("div",{key:d,style:{padding:"12px",border:"1px solid #f5f5f5","text-align":"center"}},g(d),1))),128)),h("div",K,[t(u)?(o(),i("p",O,[t(u)?(o(),i("span",Q,"No more data")):x("",!0)])):(o(),P(l,{key:0,type:"button",onClick:s[0]||(s[0]=()=>t(f)()),disabled:t(p)},{default:I(()=>[k(g(t(p)?"Loading more...":"Click to load more"),1)]),_:1},8,["disabled"]))])],512)}}}),Y={style:{"margin-bottom":"16px"}},z={key:0},tt={style:{"margin-top":"8px"}},et={key:1},ot={key:0},ct=C({__name:"demo3",setup(T){const r=["0","1","2","3","4","5","6","7","8","9","10","11","12","13"];function v(e,s){let l=0;e&&(l=r.findIndex(a=>a===e));const n=l+s,d=r.slice(l,n),m=r.length>=n?r[n]:void 0;return new Promise(a=>{setTimeout(()=>{a({list:d,nextId:m})},1e3)})}const _=V(""),{data:c,loading:y,loadMore:f,loadingMore:p,reload:u}=L(e=>v(e==null?void 0:e.nextId,4),{reloadDeps:[_]});return(e,s)=>{var n,d,m;const l=w("vhp-button");return o(),i("div",null,[F(l,{onClick:s[0]||(s[0]=()=>t(u)()),style:{"margin-bottom":"8px"}},{default:I(()=>s[3]||(s[3]=[k(" Reset ")])),_:1}),h("div",Y,[s[4]||(s[4]=k("Change will be reset\uFF1A")),A(h("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=a=>_.value=a)},null,512),[[E,_.value]])]),t(y)?(o(),i("p",z)):x("",!0),(o(!0),i(N,null,D((n=t(c))==null?void 0:n.list,a=>(o(),i("div",{key:a,style:{padding:"12px",border:"1px solid #f5f5f5","text-align":"center"}},g(a),1))),128)),h("div",tt,[(d=t(c))!=null&&d.nextId?(o(),P(l,{key:0,type:"button",onClick:s[2]||(s[2]=()=>t(f)()),disabled:t(p)},{default:I(()=>[k(g(t(p)?"Loading more...":"Click to load more"),1)]),_:1},8,["disabled"])):(o(),i("p",et,[(m=t(c))!=null&&m.nextId?x("",!0):(o(),i("span",ot,"No more data"))]))])])}}}),nt={key:0},st={style:{"margin-top":"8px"}},it={key:1},dt={key:0},pt=C({__name:"demo4",setup(T){const r=["0","1","2","3","4","5","6","7","8","9","10","11","12","13"];function v(n,d){let m=0;n&&(m=r.findIndex(b=>b===n));const a=m+d,M=r.slice(m,a),$=r.length>=a?r[a]:void 0;return new Promise(b=>{setTimeout(()=>{b({list:M,nextId:$})},1e3)})}function _(n){return new Promise(d=>{setTimeout(()=>{d()},1e3)})}const{data:c,loading:y,loadMore:f,loadingMore:p,mutate:u}=L(n=>v(n==null?void 0:n.nextId,4)),{loading:e,params:s,run:l}=S(_,{manual:!0,onSuccess:(n,[d])=>{var m,a;if(c.value){const M=(m=c.value)==null?void 0:m.list.findIndex($=>$===d);(a=c==null?void 0:c.value)==null||a.list.splice(M,1),u({...c.value})}}});return(n,d)=>{var a,M,$;const m=w("vhp-button");return o(),i("div",null,[t(y)?(o(),i("p",nt)):x("",!0),(o(!0),i(N,null,D((a=t(c))==null?void 0:a.list,b=>(o(),i("div",{key:b,style:{padding:"12px",border:"1px solid #f5f5f5","text-align":"center"}},[k(g(b)+" ",1),F(m,{style:{"margin-left":"8px"},disabled:t(e)&&t(s)[0]===b,onClick:()=>t(l)(b)},{default:I(()=>d[1]||(d[1]=[k(" delete")])),_:2},1032,["disabled","onClick"])]))),128)),h("div",st,[(M=t(c))!=null&&M.nextId?(o(),P(m,{key:0,type:"button",onClick:d[0]||(d[0]=()=>t(f)()),disabled:t(p)},{default:I(()=>[k(g(t(p)?"Loading more...":"Click to load more"),1)]),_:1},8,["disabled"])):(o(),i("p",it,[($=t(c))!=null&&$.nextId?x("",!0):(o(),i("span",dt,"No more data"))]))])])}}});export{rt as _,at as a,ut as b,ct as c,pt as d};
