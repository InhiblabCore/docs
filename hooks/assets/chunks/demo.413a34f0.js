import{S as dt,T as ht,e as mt,k as bt,o as C,c as I,d as R,F as H,m as gt,j as Pt,a as tt,w as nt,n as et,U as Ot,t as _t}from"../app.93ff1e1e.js";function y(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(e.length?" "+e.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function P(t){return!!t&&!!t[l]}function g(t){var n;return!!t&&(function(e){if(!e||typeof e!="object")return!1;var r=Object.getPrototypeOf(e);if(r===null)return!0;var o=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===Dt}(t)||Array.isArray(t)||!!t[st]||!!(!((n=t.constructor)===null||n===void 0)&&n[st])||L(t)||B(t))}function j(t,n,e){e===void 0&&(e=!1),O(t)===0?(e?Object.keys:G)(t).forEach(function(r){e&&typeof r=="symbol"||n(r,t[r],t)}):t.forEach(function(r,o){return n(o,r,t)})}function O(t){var n=t[l];return n?n.i>3?n.i-4:n.i:Array.isArray(t)?1:L(t)?2:B(t)?3:0}function V(t,n){return O(t)===2?t.has(n):Object.prototype.hasOwnProperty.call(t,n)}function wt(t,n){return O(t)===2?t.get(n):t[n]}function lt(t,n,e){var r=O(t);r===2?t.set(n,e):r===3?t.add(e):t[n]=e}function jt(t,n){return t===n?t!==0||1/t==1/n:t!=t&&n!=n}function L(t){return Rt&&t instanceof Map}function B(t){return xt&&t instanceof Set}function b(t){return t.o||t.t}function J(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var n=Nt(t);delete n[l];for(var e=G(n),r=0;r<e.length;r++){var o=e[r],u=n[o];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[o]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[o]})}return Object.create(Object.getPrototypeOf(t),n)}function A(t,n){return n===void 0&&(n=!1),X(t)||P(t)||!g(t)||(O(t)>1&&(t.set=t.add=t.clear=t.delete=At),Object.freeze(t),n&&j(t,function(e,r){return A(r,!0)},!0)),t}function At(){y(2)}function X(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function d(t){var n=Ft[t];return n||y(18,t),n}function rt(){return S}function z(t,n){n&&(d("Patches"),t.u=[],t.s=[],t.v=n)}function x(t){U(t),t.p.forEach(St),t.p=null}function U(t){t===S&&(S=t.l)}function ot(t){return S={p:[],l:S,h:t,m:!0,_:0}}function St(t){var n=t[l];n.i===0||n.i===1?n.j():n.O=!0}function M(t,n){n._=n.p.length;var e=n.p[0],r=t!==void 0&&t!==e;return n.h.g||d("ES5").S(n,t,r),r?(e[l].P&&(x(n),y(4)),g(t)&&(t=D(n,t),n.l||N(n,t)),n.u&&d("Patches").M(e[l].t,t,n.u,n.s)):t=D(n,e,[]),x(n),n.u&&n.v(n.u,n.s),t!==pt?t:void 0}function D(t,n,e){if(X(n))return n;var r=n[l];if(!r)return j(n,function(i,f){return ut(t,r,n,i,f,e)},!0),n;if(r.A!==t)return n;if(!r.P)return N(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=r.i===4||r.i===5?r.o=J(r.k):r.o,u=o,c=!1;r.i===3&&(u=new Set(o),o.clear(),c=!0),j(u,function(i,f){return ut(t,r,o,i,f,e,c)}),N(t,o,!1),e&&t.u&&d("Patches").N(r,e,t.u,t.s)}return r.o}function ut(t,n,e,r,o,u,c){if(P(o)){var i=D(t,o,u&&n&&n.i!==3&&!V(n.R,r)?u.concat(r):void 0);if(lt(e,r,i),!P(i))return;t.m=!1}else c&&e.add(o);if(g(o)&&!X(o)){if(!t.h.D&&t._<1)return;D(t,o),n&&n.A.l||N(t,o)}}function N(t,n,e){e===void 0&&(e=!1),!t.l&&t.h.D&&t.m&&A(n,e)}function E(t,n){var e=t[l];return(e?b(e):t)[n]}function it(t,n){if(n in t)for(var e=Object.getPrototypeOf(t);e;){var r=Object.getOwnPropertyDescriptor(e,n);if(r)return r;e=Object.getPrototypeOf(e)}}function T(t){t.P||(t.P=!0,t.l&&T(t.l))}function K(t){t.o||(t.o=J(t.t))}function W(t,n,e){var r=L(n)?d("MapSet").F(n,e):B(n)?d("MapSet").T(n,e):t.g?function(o,u){var c=Array.isArray(o),i={i:c?1:0,A:u?u.A:rt(),P:!1,I:!1,R:{},l:u,t:o,k:null,o:null,j:null,C:!1},f=i,a=$;c&&(f=[i],a=w);var s=Proxy.revocable(f,a),h=s.revoke,v=s.proxy;return i.k=v,i.j=h,v}(n,e):d("ES5").J(n,e);return(e?e.A:rt()).p.push(r),r}function kt(t){return P(t)||y(22,t),function n(e){if(!g(e))return e;var r,o=e[l],u=O(e);if(o){if(!o.P&&(o.i<4||!d("ES5").K(o)))return o.t;o.I=!0,r=ct(e,u),o.I=!1}else r=ct(e,u);return j(r,function(c,i){o&&wt(o.t,c)===i||lt(r,c,n(i))}),u===3?new Set(r):r}(t)}function ct(t,n){switch(n){case 2:return new Map(t);case 3:return Array.from(t)}return J(t)}var at,S,q=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Rt=typeof Map<"u",xt=typeof Set<"u",ft=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",pt=q?Symbol.for("immer-nothing"):((at={})["immer-nothing"]=!0,at),st=q?Symbol.for("immer-draftable"):"__$immer_draftable",l=q?Symbol.for("immer-state"):"__$immer_state",Dt=""+Object.prototype.constructor,G=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,Nt=Object.getOwnPropertyDescriptors||function(t){var n={};return G(t).forEach(function(e){n[e]=Object.getOwnPropertyDescriptor(t,e)}),n},Ft={},$={get:function(t,n){if(n===l)return t;var e=b(t);if(!V(e,n))return function(o,u,c){var i,f=it(u,c);return f?"value"in f?f.value:(i=f.get)===null||i===void 0?void 0:i.call(o.k):void 0}(t,e,n);var r=e[n];return t.I||!g(r)?r:r===E(t.t,n)?(K(t),t.o[n]=W(t.A.h,r,t)):r},has:function(t,n){return n in b(t)},ownKeys:function(t){return Reflect.ownKeys(b(t))},set:function(t,n,e){var r=it(b(t),n);if(r!=null&&r.set)return r.set.call(t.k,e),!0;if(!t.P){var o=E(b(t),n),u=o==null?void 0:o[l];if(u&&u.t===e)return t.o[n]=e,t.R[n]=!1,!0;if(jt(e,o)&&(e!==void 0||V(t.t,n)))return!0;K(t),T(t)}return t.o[n]===e&&(e!==void 0||n in t.o)||Number.isNaN(e)&&Number.isNaN(t.o[n])||(t.o[n]=e,t.R[n]=!0),!0},deleteProperty:function(t,n){return E(t.t,n)!==void 0||n in t.t?(t.R[n]=!1,K(t),T(t)):delete t.R[n],t.o&&delete t.o[n],!0},getOwnPropertyDescriptor:function(t,n){var e=b(t),r=Reflect.getOwnPropertyDescriptor(e,n);return r&&{writable:!0,configurable:t.i!==1||n!=="length",enumerable:r.enumerable,value:e[n]}},defineProperty:function(){y(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){y(12)}},w={};j($,function(t,n){w[t]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}}),w.deleteProperty=function(t,n){return w.set.call(this,t,n,void 0)},w.set=function(t,n,e){return $.set.call(this,t[0],n,e,t[0])};var Ct=function(){function t(e){var r=this;this.g=ft,this.D=!0,this.produce=function(o,u,c){if(typeof o=="function"&&typeof u!="function"){var i=u;u=o;var f=r;return function(m){var vt=this;m===void 0&&(m=i);for(var F=arguments.length,Y=Array(F>1?F-1:0),k=1;k<F;k++)Y[k-1]=arguments[k];return f.produce(m,function(yt){var Z;return(Z=u).call.apply(Z,[vt,yt].concat(Y))})}}var a;if(typeof u!="function"&&y(6),c!==void 0&&typeof c!="function"&&y(7),g(o)){var s=ot(r),h=W(r,o,void 0),v=!0;try{a=u(h),v=!1}finally{v?x(s):U(s)}return typeof Promise<"u"&&a instanceof Promise?a.then(function(m){return z(s,c),M(m,s)},function(m){throw x(s),m}):(z(s,c),M(a,s))}if(!o||typeof o!="object"){if((a=u(o))===void 0&&(a=o),a===pt&&(a=void 0),r.D&&A(a,!0),c){var _=[],Q=[];d("Patches").M(o,a,_,Q),c(_,Q)}return a}y(21,o)},this.produceWithPatches=function(o,u){if(typeof o=="function")return function(a){for(var s=arguments.length,h=Array(s>1?s-1:0),v=1;v<s;v++)h[v-1]=arguments[v];return r.produceWithPatches(a,function(_){return o.apply(void 0,[_].concat(h))})};var c,i,f=r.produce(o,u,function(a,s){c=a,i=s});return typeof Promise<"u"&&f instanceof Promise?f.then(function(a){return[a,c,i]}):[f,c,i]},typeof(e==null?void 0:e.useProxies)=="boolean"&&this.setUseProxies(e.useProxies),typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze)}var n=t.prototype;return n.createDraft=function(e){g(e)||y(8),P(e)&&(e=kt(e));var r=ot(this),o=W(this,e,void 0);return o[l].C=!0,U(r),o},n.finishDraft=function(e,r){var o=e&&e[l],u=o.A;return z(u,r),M(void 0,u)},n.setAutoFreeze=function(e){this.D=e},n.setUseProxies=function(e){e&&!ft&&y(20),this.g=e},n.applyPatches=function(e,r){var o;for(o=r.length-1;o>=0;o--){var u=r[o];if(u.path.length===0&&u.op==="replace"){e=u.value;break}}o>-1&&(r=r.slice(o+1));var c=d("Patches").$;return P(e)?c(e,r):this.produce(e,function(i){return c(i,r)})},t}(),p=new Ct,It=p.produce;p.produceWithPatches.bind(p);p.setAutoFreeze.bind(p);p.setUseProxies.bind(p);p.applyPatches.bind(p);p.createDraft.bind(p);p.finishDraft.bind(p);function zt(t){const n=dt(A(typeof t=="function"?t():t,!0)),e=r=>{typeof r=="function"?n.value=It(n.value,r):n.value=A(r)};return[ht(n),e]}const Mt=R("h3",null,"function updater",-1),Et=["onClick"],Kt=R("h3",null," no function updater",-1),Ut=mt({__name:"demo",setup(t){const n=[{title:"Learn Vue",done:!0},{title:"Use Vue with Immer",done:!1}],[e,r]=zt(n);function o(i){r(f=>{f[i].done=!f[i].done})}const u=()=>{r([{title:"Learn Vue 1",done:!1}])},c=()=>{r(n)};return(i,f)=>{const a=bt("vhp-button");return C(),I(H,null,[Mt,R("ul",null,[(C(!0),I(H,null,gt(Pt(e),({title:s,done:h},v)=>(C(),I("li",{class:Ot({done:h}),key:s,onClick:_=>o(v)},_t(s),11,Et))),128))]),Kt,R("div",null,[tt(a,{onClick:u},{default:nt(()=>[et("Set index 0 title")]),_:1}),tt(a,{onClick:c,style:{"margin-left":"8px"}},{default:nt(()=>[et("Reset")]),_:1})])],64)}}});export{Ut as _};
