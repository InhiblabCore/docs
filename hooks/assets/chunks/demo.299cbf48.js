import{e as y,r as a,X as B,n as D,o as l,c as r,d as n,t as m,u,a as v,w as f,f as g,A as $,B as V,F as C,l as N}from"../app.367c0303.js";import{m as S}from"./useRequest_plugins.es.f45f0e74.js";const T={style:{"margin-top":"8px"}},_=y({__name:"demo",setup(F){function x(s){return new Promise(e=>{setTimeout(()=>{e(`${s.desc}-${String(Date.now())}`)},1e3)})}const i=a([]),o=a(""),d=a("good"),b=()=>{d.value=`send-other-${o.value}`},{data:c,loading:h,refresh:k}=B(()=>x({desc:d.value}),{refreshDeps:!0,pluginOptions:{broadcastChannel:"nice-broadcastChannel",onBroadcastChannel:(s,e)=>{i.value.push(s.data)}}},[S]);return(s,e)=>{const p=D("vhp-button");return l(),r(C,null,[n("div",null,"Current: "+m(u(h)?"loading..":u(c)),1),n("div",null,[v(p,{onClick:e[0]||(e[0]=t=>u(k)())},{default:f(()=>e[3]||(e[3]=[g("Refresh")])),_:1}),n("div",T,[e[5]||(e[5]=n("h4",null,"Desc",-1)),$(n("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.value=t)},null,512),[[V,o.value]]),v(p,{style:{"margin-left":"4px"},onClick:e[2]||(e[2]=t=>b())},{default:f(()=>e[4]||(e[4]=[g("Send")])),_:1})])]),n("div",null,[e[6]||(e[6]=n("h3",null,"Channel History:",-1)),(l(!0),r(C,null,N(i.value,(t,w)=>(l(),r("div",{key:w},m(t),1))),128))])],64)}}});export{_};
