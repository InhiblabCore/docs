import{ac as jt}from"../app.032845d0.js";/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Tt(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Ft=Object.assign,Dt=Object.prototype.hasOwnProperty,U=(t,e)=>Dt.call(t,e),S=Array.isArray,j=t=>ft(t)==="[object Map]",Nt=t=>typeof t=="string",x=t=>typeof t=="symbol",D=t=>t!==null&&typeof t=="object",Wt=Object.prototype.toString,ft=t=>Wt.call(t),Kt=t=>ft(t).slice(8,-1),X=t=>Nt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,O=(t,e)=>!Object.is(t,e);let ot;const Y=()=>ot||(ot=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let At,dt=0,K;function H(){dt++}function Z(){if(--dt>0)return;let t;for(;K;){let e=K;for(K=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}let T=!0;const ht=[];function Vt(){ht.push(T),T=!1}function Jt(){const t=ht.pop();T=t===void 0?!0:t}class mt{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){}trigger(e){this.version++,this.notify(e)}notify(e){H();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Z()}}}const z=new WeakMap,w=Symbol(""),q=Symbol(""),R=Symbol("");function p(t,e,n){if(T&&At){let r=z.get(t);r||z.set(t,r=new Map);let o=r.get(n);o||(r.set(n,o=new mt),o.map=r,o.key=n),o.track()}}function _(t,e,n,r,o,s){const i=z.get(t);if(!i)return;const a=u=>{u&&u.trigger()};if(H(),e==="clear")i.forEach(a);else{const u=S(t),f=u&&X(n);if(u&&n==="length"){const l=Number(r);i.forEach((h,c)=>{(c==="length"||c===R||!x(c)&&c>=l)&&a(h)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),f&&a(i.get(R)),e){case"add":u?f&&a(i.get("length")):(a(i.get(w)),j(t)&&a(i.get(q)));break;case"delete":u||(a(i.get(w)),j(t)&&a(i.get(q)));break;case"set":j(t)&&a(i.get(w));break}}Z()}function k(t){const e=d(t);return e===t?e:(p(e,"iterate",R),b(t)?e:e.map(m))}function $(t){return p(t=d(t),"iterate",R),t}const Ut={__proto__:null,[Symbol.iterator](){return A(this,Symbol.iterator,m)},concat(...t){return k(this).concat(...t.map(e=>S(e)?k(e):e))},entries(){return A(this,"entries",t=>(t[1]=m(t[1]),t))},every(t,e){return v(this,"every",t,e,void 0,arguments)},filter(t,e){return v(this,"filter",t,e,n=>n.map(m),arguments)},find(t,e){return v(this,"find",t,e,m,arguments)},findIndex(t,e){return v(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return v(this,"findLast",t,e,m,arguments)},findLastIndex(t,e){return v(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return v(this,"forEach",t,e,void 0,arguments)},includes(...t){return V(this,"includes",t)},indexOf(...t){return V(this,"indexOf",t)},join(t){return k(this).join(t)},lastIndexOf(...t){return V(this,"lastIndexOf",t)},map(t,e){return v(this,"map",t,e,void 0,arguments)},pop(){return I(this,"pop")},push(...t){return I(this,"push",t)},reduce(t,...e){return st(this,"reduce",t,e)},reduceRight(t,...e){return st(this,"reduceRight",t,e)},shift(){return I(this,"shift")},some(t,e){return v(this,"some",t,e,void 0,arguments)},splice(...t){return I(this,"splice",t)},toReversed(){return k(this).toReversed()},toSorted(t){return k(this).toSorted(t)},toSpliced(...t){return k(this).toSpliced(...t)},unshift(...t){return I(this,"unshift",t)},values(){return A(this,"values",m)}};function A(t,e,n){const r=$(t),o=r[e]();return r!==t&&!b(t)&&(o._next=o.next,o.next=()=>{const s=o._next();return s.value&&(s.value=n(s.value)),s}),o}const zt=Array.prototype;function v(t,e,n,r,o,s){const i=$(t),a=i!==t&&!b(t),u=i[e];if(u!==zt[e]){const h=u.apply(t,s);return a?m(h):h}let f=n;i!==t&&(a?f=function(h,c){return n.call(this,m(h),c,t)}:n.length>2&&(f=function(h,c){return n.call(this,h,c,t)}));const l=u.call(i,f,r);return a&&o?o(l):l}function st(t,e,n,r){const o=$(t);let s=n;return o!==t&&(b(t)?n.length>3&&(s=function(i,a,u){return n.call(this,i,a,u,t)}):s=function(i,a,u){return n.call(this,i,m(a),u,t)}),o[e](s,...r)}function V(t,e,n){const r=d(t);p(r,"iterate",R);const o=r[e](...n);return(o===-1||o===!1)&&ie(n[0])?(n[0]=d(n[0]),r[e](...n)):o}function I(t,e,n=[]){Vt(),H();const r=d(t)[e].apply(t,n);return Z(),Jt(),r}const qt=Tt("__proto__,__v_isRef,__isVue"),pt=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(x));function Gt(t){x(t)||(t=String(t));const e=d(this);return p(e,"has",t),e.hasOwnProperty(t)}class vt{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const o=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(o?s?re:bt:s?ne:_t).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const i=S(e);if(!o){let u;if(i&&(u=Ut[n]))return u;if(n==="hasOwnProperty")return Gt}const a=Reflect.get(e,n,C(e)?e:r);return(x(n)?pt.has(n):qt(n))||(o||p(e,"get",n),s)?a:C(a)?i&&X(n)?a:a.value:D(a)?o?yt(a):wt(a):a}}class Qt extends vt{constructor(e=!1){super(!1,e)}set(e,n,r,o){let s=e[n];if(!this._isShallow){const u=P(s);if(!b(r)&&!P(r)&&(s=d(s),r=d(r)),!S(e)&&C(s)&&!C(r))return u?!1:(s.value=r,!0)}const i=S(e)&&X(n)?Number(n)<e.length:U(e,n),a=Reflect.set(e,n,r,C(e)?e:o);return e===d(o)&&(i?O(r,s)&&_(e,"set",n,r):_(e,"add",n,r)),a}deleteProperty(e,n){const r=U(e,n);e[n];const o=Reflect.deleteProperty(e,n);return o&&r&&_(e,"delete",n,void 0),o}has(e,n){const r=Reflect.has(e,n);return(!x(n)||!pt.has(n))&&p(e,"has",n),r}ownKeys(e){return p(e,"iterate",S(e)?"length":w),Reflect.ownKeys(e)}}class Xt extends vt{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Yt=new Qt,Ht=new Xt,G=t=>t,L=t=>Reflect.getPrototypeOf(t);function Zt(t,e,n){return function(...r){const o=this.__v_raw,s=d(o),i=j(s),a=t==="entries"||t===Symbol.iterator&&i,u=t==="keys"&&i,f=o[t](...r),l=n?G:e?Q:m;return!e&&p(s,"iterate",u?q:w),{next(){const{value:h,done:c}=f.next();return c?{value:h,done:c}:{value:a?[l(h[0]),l(h[1])]:l(h),done:c}},[Symbol.iterator](){return this}}}}function B(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function $t(t,e){const n={get(r){const o=this.__v_raw,s=d(o),i=d(r);t||(O(r,i)&&p(s,"get",r),p(s,"get",i));const{has:a}=L(s),u=e?G:t?Q:m;if(a.call(s,r))return u(o.get(r));if(a.call(s,i))return u(o.get(i));o!==s&&o.get(r)},get size(){const r=this.__v_raw;return!t&&p(d(r),"iterate",w),Reflect.get(r,"size",r)},has(r){const o=this.__v_raw,s=d(o),i=d(r);return t||(O(r,i)&&p(s,"has",r),p(s,"has",i)),r===i?o.has(r):o.has(r)||o.has(i)},forEach(r,o){const s=this,i=s.__v_raw,a=d(i),u=e?G:t?Q:m;return!t&&p(a,"iterate",w),i.forEach((f,l)=>r.call(o,u(f),u(l),s))}};return Ft(n,t?{add:B("add"),set:B("set"),delete:B("delete"),clear:B("clear")}:{add(r){!e&&!b(r)&&!P(r)&&(r=d(r));const o=d(this);return L(o).has.call(o,r)||(o.add(r),_(o,"add",r,r)),this},set(r,o){!e&&!b(o)&&!P(o)&&(o=d(o));const s=d(this),{has:i,get:a}=L(s);let u=i.call(s,r);u||(r=d(r),u=i.call(s,r));const f=a.call(s,r);return s.set(r,o),u?O(o,f)&&_(s,"set",r,o):_(s,"add",r,o),this},delete(r){const o=d(this),{has:s,get:i}=L(o);let a=s.call(o,r);a||(r=d(r),a=s.call(o,r)),i&&i.call(o,r);const u=o.delete(r);return a&&_(o,"delete",r,void 0),u},clear(){const r=d(this),o=r.size!==0,s=r.clear();return o&&_(r,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Zt(r,t,e)}),n}function gt(t,e){const n=$t(t,e);return(r,o,s)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?r:Reflect.get(U(n,o)&&o in r?n:r,o,s)}const te={get:gt(!1,!1)},ee={get:gt(!0,!1)},_t=new WeakMap,ne=new WeakMap,bt=new WeakMap,re=new WeakMap;function oe(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function se(t){return t.__v_skip||!Object.isExtensible(t)?0:oe(Kt(t))}function wt(t){return P(t)?t:kt(t,!1,Yt,te,_t)}function yt(t){return kt(t,!0,Ht,ee,bt)}function kt(t,e,n,r,o){if(!D(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=o.get(t);if(s)return s;const i=se(t);if(i===0)return t;const a=new Proxy(t,i===2?r:n);return o.set(t,a),a}function P(t){return!!(t&&t.__v_isReadonly)}function b(t){return!!(t&&t.__v_isShallow)}function ie(t){return t?!!t.__v_raw:!1}function d(t){const e=t&&t.__v_raw;return e?d(e):t}const m=t=>D(t)?wt(t):t,Q=t=>D(t)?yt(t):t;function C(t){return t?t.__v_isRef===!0:!1}function ae(t){return ue(t,!1)}function ue(t,e){return C(t)?t:new ce(t,e)}class ce{constructor(e,n){this.dep=new mt,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:d(e),this._value=n?e:m(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||b(e)||P(e);e=r?e:d(e),O(e,n)&&(this._rawValue=e,this._value=r?e:m(e),this.dep.trigger())}}Y().requestIdleCallback;Y().cancelIdleCallback;{const t=Y(),e=(n,r)=>{let o;return(o=t[n])||(o=t[n]=[]),o.push(r),s=>{o.length>1?o.forEach(i=>i(s)):o[0](s)}};e("__VUE_INSTANCE_SETTERS__",n=>n),e("__VUE_SSR_SETTERS__",n=>n)}function le(t){return t&&typeof t.then=="function"}Promise.resolve(!1);Promise.resolve(!0);var M=Promise.resolve();function St(t,e){return t||(t=0),new Promise(function(n){return setTimeout(function(){return n(e)},t)})}function fe(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function tt(){return Math.random().toString(36).substring(2)}var it=0,J=0;function N(){var t=Date.now();return t===it?(J++,t*1e3+J):(it=t,J=0,t*1e3)}var de=N,he="native";function me(t){var e={messagesCallback:null,bc:new BroadcastChannel(t),subFns:[]};return e.bc.onmessage=function(n){e.messagesCallback&&e.messagesCallback(n.data)},e}function pe(t){t.bc.close(),t.subFns=[]}function ve(t,e){try{return t.bc.postMessage(e,!1),M}catch(n){return Promise.reject(n)}}function ge(t,e){t.messagesCallback=e}function _e(){if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function be(){return 150}var we={create:me,close:pe,onMessage:ge,postMessage:ve,canBeUsed:_e,type:he,averageResponseTime:be,microSeconds:de},Ct=function(){function t(e){this.ttl=e,this.map=new Map,this._to=!1}return t.prototype.has=function(e){return this.map.has(e)},t.prototype.add=function(e){var n=this;this.map.set(e,Pt()),this._to||(this._to=!0,setTimeout(function(){n._to=!1,ye(n)},0))},t.prototype.clear=function(){this.map.clear()},t}();function ye(t){for(var e=Pt()-t.ttl,n=t.map[Symbol.iterator]();;){var r=n.next().value;if(!r)return;var o=r[0],s=r[1];if(s<e)t.map.delete(o);else return}}function Pt(){return new Date().getTime()}function et(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=JSON.parse(JSON.stringify(t));return typeof e.webWorkerSupport>"u"&&(e.webWorkerSupport=!0),e.idb||(e.idb={}),e.idb.ttl||(e.idb.ttl=1e3*45),e.idb.fallbackInterval||(e.idb.fallbackInterval=150),t.idb&&typeof t.idb.onclose=="function"&&(e.idb.onclose=t.idb.onclose),e.localstorage||(e.localstorage={}),e.localstorage.removeTimeout||(e.localstorage.removeTimeout=1e3*60),t.methods&&(e.methods=t.methods),e.node||(e.node={}),e.node.ttl||(e.node.ttl=1e3*60*2),e.node.maxParallelWrites||(e.node.maxParallelWrites=2048),typeof e.node.useFastPath>"u"&&(e.node.useFastPath=!0),e}var ke=N,Se="pubkey.broadcast-channel-0-",g="messages",W={durability:"relaxed"},Ce="idb";function Mt(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function nt(t){t.commit&&t.commit()}function Pe(t){var e=Mt(),n=Se+t,r=e.open(n);return r.onupgradeneeded=function(o){var s=o.target.result;s.createObjectStore(g,{keyPath:"id",autoIncrement:!0})},new Promise(function(o,s){r.onerror=function(i){return s(i)},r.onsuccess=function(){o(r.result)}})}function Me(t,e,n){var r=Date.now(),o={uuid:e,time:r,data:n},s=t.transaction([g],"readwrite",W);return new Promise(function(i,a){s.oncomplete=function(){return i()},s.onerror=function(f){return a(f)};var u=s.objectStore(g);u.add(o),nt(s)})}function Ee(t,e){var n=t.transaction(g,"readonly",W),r=n.objectStore(g),o=[],s=IDBKeyRange.bound(e+1,1/0);if(r.getAll){var i=r.getAll(s);return new Promise(function(u,f){i.onerror=function(l){return f(l)},i.onsuccess=function(l){u(l.target.result)}})}function a(){try{return s=IDBKeyRange.bound(e+1,1/0),r.openCursor(s)}catch{return r.openCursor()}}return new Promise(function(u,f){var l=a();l.onerror=function(h){return f(h)},l.onsuccess=function(h){var c=h.target.result;c?c.value.id<e+1?c.continue(e+1):(o.push(c.value),c.continue()):(nt(n),u(o))}})}function Ie(t,e){if(t.closed)return Promise.resolve([]);var n=t.db.transaction(g,"readwrite",W),r=n.objectStore(g);return Promise.all(e.map(function(o){var s=r.delete(o);return new Promise(function(i){s.onsuccess=function(){return i()}})}))}function Oe(t,e){var n=Date.now()-e,r=t.transaction(g,"readonly",W),o=r.objectStore(g),s=[];return new Promise(function(i){o.openCursor().onsuccess=function(a){var u=a.target.result;if(u){var f=u.value;f.time<n?(s.push(f),u.continue()):(nt(r),i(s))}else i(s)}})}function Re(t){return Oe(t.db,t.options.idb.ttl).then(function(e){return Ie(t,e.map(function(n){return n.id}))})}function xe(t,e){return e=et(e),Pe(t).then(function(n){var r={closed:!1,lastCursorId:0,channelName:t,options:e,uuid:tt(),eMIs:new Ct(e.idb.ttl*2),writeBlockPromise:M,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,e.idb.onclose&&e.idb.onclose()},Et(r),r})}function Et(t){t.closed||It(t).then(function(){return St(t.options.idb.fallbackInterval)}).then(function(){return Et(t)})}function Le(t,e){return!(t.uuid===e.uuid||e.eMIs.has(t.id)||t.data.time<e.messagesCallbackTime)}function It(t){return t.closed||!t.messagesCallback?M:Ee(t.db,t.lastCursorId).then(function(e){var n=e.filter(function(r){return!!r}).map(function(r){return r.id>t.lastCursorId&&(t.lastCursorId=r.id),r}).filter(function(r){return Le(r,t)}).sort(function(r,o){return r.time-o.time});return n.forEach(function(r){t.messagesCallback&&(t.eMIs.add(r.id),t.messagesCallback(r.data))}),M})}function Be(t){t.closed=!0,t.db.close()}function je(t,e){return t.writeBlockPromise=t.writeBlockPromise.then(function(){return Me(t.db,t.uuid,e)}).then(function(){fe(0,10)===0&&Re(t)}),t.writeBlockPromise}function Te(t,e,n){t.messagesCallbackTime=n,t.messagesCallback=e,It(t)}function Fe(){return!!Mt()}function De(t){return t.idb.fallbackInterval*2}var Ne={create:xe,close:Be,onMessage:Te,postMessage:je,canBeUsed:Fe,type:Ce,averageResponseTime:De,microSeconds:ke},We=N,Ke="pubkey.broadcastChannel-",Ae="localstorage";function Ot(){var t;if(typeof window>"u")return null;try{t=window.localStorage,t=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return t}function Rt(t){return Ke+t}function Ve(t,e){return new Promise(function(n){St().then(function(){var r=Rt(t.channelName),o={token:tt(),time:Date.now(),data:e,uuid:t.uuid},s=JSON.stringify(o);Ot().setItem(r,s);var i=document.createEvent("Event");i.initEvent("storage",!0,!0),i.key=r,i.newValue=s,window.dispatchEvent(i),n()})})}function Je(t,e){var n=Rt(t),r=function(o){o.key===n&&e(JSON.parse(o.newValue))};return window.addEventListener("storage",r),r}function Ue(t){window.removeEventListener("storage",t)}function ze(t,e){if(e=et(e),!xt())throw new Error("BroadcastChannel: localstorage cannot be used");var n=tt(),r=new Ct(e.localstorage.removeTimeout),o={channelName:t,uuid:n,eMIs:r};return o.listener=Je(t,function(s){!o.messagesCallback||s.uuid!==n&&(!s.token||r.has(s.token)||s.data.time&&s.data.time<o.messagesCallbackTime||(r.add(s.token),o.messagesCallback(s.data)))}),o}function qe(t){Ue(t.listener)}function Ge(t,e,n){t.messagesCallbackTime=n,t.messagesCallback=e}function xt(){var t=Ot();if(!t)return!1;try{var e="__broadcastchannel_check";t.setItem(e,"works"),t.removeItem(e)}catch{return!1}return!0}function Qe(){var t=120,e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?t*2:t}var Xe={create:ze,close:qe,onMessage:Ge,postMessage:Ve,canBeUsed:xt,type:Ae,averageResponseTime:Qe,microSeconds:We},Ye=N,He="simulate",rt=new Set;function Ze(t){var e={name:t,messagesCallback:null};return rt.add(e),e}function $e(t){rt.delete(t)}function tn(t,e){return new Promise(function(n){return setTimeout(function(){var r=Array.from(rt);r.filter(function(o){return o.name===t.name}).filter(function(o){return o!==t}).filter(function(o){return!!o.messagesCallback}).forEach(function(o){return o.messagesCallback(e)}),n()},5)})}function en(t,e){t.messagesCallback=e}function nn(){return!0}function rn(){return 5}var on={create:Ze,close:$e,onMessage:en,postMessage:tn,canBeUsed:nn,type:He,averageResponseTime:rn,microSeconds:Ye},at=[we,Ne,Xe];function sn(t){var e=[].concat(t.methods,at).filter(Boolean);if(t.type){if(t.type==="simulate")return on;var n=e.find(function(o){return o.type===t.type});if(n)return n;throw new Error("method-type "+t.type+" not found")}t.webWorkerSupport||(e=e.filter(function(o){return o.type!=="idb"}));var r=e.find(function(o){return o.canBeUsed()});if(r)return r;throw new Error("No usable method found in "+JSON.stringify(at.map(function(o){return o.type})))}var Lt=new Set,an=0,F=function(t,e){this.id=an++,Lt.add(this),this.name=t,this.options=et(e),this.method=sn(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,un(this)};F._pubkey=!0;F.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(t));return ut(this,"message",t)},postInternal:function(t){return ut(this,"internal",t)},set onmessage(t){var e=this.method.microSeconds(),n={time:e,fn:t};lt(this,"message",this._onML),t&&typeof t=="function"?(this._onML=n,ct(this,"message",n)):this._onML=null},addEventListener:function(t,e){var n=this.method.microSeconds(),r={time:n,fn:e};ct(this,t,r)},removeEventListener:function(t,e){var n=this._addEL[t].find(function(r){return r.fn===e});lt(this,t,n)},close:function(){var t=this;if(!this.closed){Lt.delete(this),this.closed=!0;var e=this._prepP?this._prepP:M;return this._onML=null,this._addEL.message=[],e.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(n){return n()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function ut(t,e,n){var r=t.method.microSeconds(),o={time:r,type:e,data:n},s=t._prepP?t._prepP:M;return s.then(function(){var i=t.method.postMessage(t._state,o);return t._uMP.add(i),i.catch().then(function(){return t._uMP.delete(i)}),i})}function un(t){var e=t.method.create(t.name,t.options);le(e)?(t._prepP=e,e.then(function(n){t._state=n})):t._state=e}function Bt(t){return t._addEL.message.length>0||t._addEL.internal.length>0}function ct(t,e,n){t._addEL[e].push(n),cn(t)}function lt(t,e,n){t._addEL[e]=t._addEL[e].filter(function(r){return r!==n}),ln(t)}function cn(t){if(!t._iL&&Bt(t)){var e=function(r){t._addEL[r.type].forEach(function(o){var s=1e5,i=o.time-s;r.time>=i&&o.fn(r.data)})},n=t.method.microSeconds();t._prepP?t._prepP.then(function(){t._iL=!0,t.method.onMessage(t._state,e,n)}):(t._iL=!0,t.method.onMessage(t._state,e,n))}}function ln(t){if(t._iL&&!Bt(t)){t._iL=!1;var e=t.method.microSeconds();t.method.onMessage(t._state,null,e)}}const hn=(t,{pluginOptions:e})=>{var n,r;const{broadcastChannel:o,broadcastChannelKey:s,broadcastChannelOptions:i={webWorkerSupport:!1},customPostMessage:a,onBroadcastChannel:u}=e!=null?e:{};let f=!1;const l=ae(),h=c=>{f=!0,c(),f=!1};return o&&(l.value=new F(o,i),l.value.onmessage=c=>{h(()=>{u==null||u(c,l.value,t.setFetchState)})},a&&((n=l.value)==null?void 0:n.postMessage)&&f===!1&&a((r=l.value)==null?void 0:r.postMessage.bind(l.value))),{name:"\u{1F9E9} broadcastChannel",onBefore:()=>{var c,y;typeof((c=l.value)==null?void 0:c.isClosed)=="boolean"&&((y=l.value)==null?void 0:y.isClosed)&&o&&(l.value=new F(o,i))},onSuccess:(c,y)=>{var E;o&&f===!1&&!a&&((E=l.value)==null||E.postMessage({broadcastChannel:o,broadcastChannelKey:s,data:c,params:y,error:null}))},onError:(c,y)=>{var E;o&&f===!1&&!a&&((E=l.value)==null||E.postMessage({broadcastChannel:o,broadcastChannelKey:s,params:y,error:c}))},onCancel:async()=>{var c;await((c=l.value)==null?void 0:c.close())}}},fn=jt("useRequert-plugin-useFetchingPlugin-Store",{state:()=>({states:{}}),getters:{},actions:{setFetchingInit(t,e,n){this.states[t]={key:t,onFetching:e,isFetching:n}},setCurrentKeyData(t,e,n){var r;(r=this.states[t])!=null&&r.key?(this.states[t]={...this.states[t],data:e,status:n},this.broadcastFetching()):console.warn("key is no exist!")},broadcastFetching(){var t;for(const e in this.states)if(Object.prototype.hasOwnProperty.call(this.states,e)){const n=this.states[e];(t=n.onFetching)==null||t.call(n,n,this.states),n.isFetching&&this.isFetchingAll(n.isFetching)}},isFetchingAll(t){const e=Object.keys(this.states),n=Object.keys(this.states).filter(r=>this.states[r].status==="success");t(e.length===n.length)}}}),mn=(t,{pluginOptions:e})=>{const{fetchingKey:n,onFetching:r,isFetching:o}=e!=null?e:{},s=fn();let i;return{name:"\u{1F9E9} fetchingPlugin",onBefore:a=>{i=n==null?void 0:n(a),i&&s.setFetchingInit(i,r,o)},onSuccess:a=>{i&&s.setCurrentKeyData(i,a,"success")},onError:()=>{i&&s.setCurrentKeyData(i,null,"error")}}};export{hn as m,mn as v};
