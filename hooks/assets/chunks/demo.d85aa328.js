import{e as x,as as C,P as V,r as w,M as D,q as B,o as s,c,u as e,n as u,w as d,f as p,l as m,t as n,d as a,F as E,m as F}from"../app.e7f85b5a.js";const S={style:{height:"400px",overflow:"scroll"}},b={style:{"margin-top":"8px"}},M={style:{"margin-top":"8px"}},N={style:{"margin-top":"8px"}},J=a("p",null,"received message: ",-1),R=x({__name:"demo",setup(L){const{readyState:o,sendMessage:_,latestMessage:y,disconnect:v,connect:f}=C("wss://demo.piesocket.com/v3/channel_1?api_key=VCXCEuvhGcBDP7XhiJJUDvR1e1D3eiVjgZ9VRiaV&notify_self"),g=V(()=>y.value),i=w([]);return D(()=>{var l,t;(l=g.value)!=null&&l.data&&i.value.push((t=g.value)==null?void 0:t.data)}),(l,t)=>{const r=B("vhp-button");return s(),c("div",S,[e(o)===1?(s(),u(r,{key:0,onClick:t[0]||(t[0]=()=>e(_)&&e(_)(`${Date.now()}`))},{default:d(()=>[p("\u2709\uFE0F send")]),_:1})):m("",!0),e(o)===1?(s(),u(r,{key:1,style:{"margin-left":"8px"},onClick:t[1]||(t[1]=()=>e(v)&&e(v)())},{default:d(()=>[p(" \u274C disconnect")]),_:1})):m("",!0),e(o)!==1?(s(),u(r,{key:2,style:{"margin-left":"8px"},onClick:t[2]||(t[2]=()=>e(f)&&e(f)())},{default:d(()=>[p(n(e(o)===0?"connecting":"\u{1F4DE} connect"),1)]),_:1})):m("",!0),a("div",b,"readyState: "+n(e(o)),1),a("div",M," message count: "+n(i.value.length),1),a("div",N,[J,(s(!0),c(E,null,F(i.value,(k,h)=>(s(),c("p",{key:h},n(k),1))),128))])])}}});export{R as _};
