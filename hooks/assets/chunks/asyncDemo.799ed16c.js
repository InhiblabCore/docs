import{e as f,a9 as C,Z as h,q as S,o as l,c as d,a as p,w as v,f as y,u as e,d as c,t as m,l as D,F as T,r as I,M as P,C as U,D as j}from"../app.e7f85b5a.js";const F={key:0,style:{padding:"16px"}},O=f({__name:"demo",setup(w){const[o,{toggle:a}]=C();function s(){return new Promise((n,t)=>{setTimeout(()=>{n(String(Date.now()))},1e3)})}const{data:u}=h(()=>s(),{ready:o,cacheKey:"cacheKey-demo"});return(n,t)=>{const _=S("vhp-button");return l(),d("div",null,[p(_,{onClick:t[0]||(t[0]=()=>e(a)())},{default:v(()=>[y("show/hidden")]),_:1}),e(o)?(l(),d("div",F,[c("p",null,m(e(u)),1)])):D("",!0)])}}}),N={key:0,style:{padding:"16px"}},R=f({__name:"demo1",setup(w){const[o,{toggle:a}]=C();function s(){return new Promise((n,t)=>{setTimeout(()=>{n(String(Date.now()))},1e3)})}const{data:u}=h(()=>s(),{ready:o,cacheKey:"staleTime-demo",staleTime:5e4});return(n,t)=>{const _=S("vhp-button");return l(),d("div",null,[p(_,{onClick:t[0]||(t[0]=()=>e(a)())},{default:v(()=>[y("show/hidden")]),_:1}),e(o)?(l(),d("div",N,[c("p",null,m(e(u)),1)])):D("",!0)])}}}),K=f({__name:"ShareDemo",setup(w){function o(){return new Promise((n,t)=>{setTimeout(()=>{n(String(Date.now()))},1e3)})}const{data:a,loading:s,refresh:u}=h(()=>o(),{cacheKey:"cacheKey-share"});return(n,t)=>{const _=S("vhp-button");return l(),d(T,null,[p(_,{onClick:t[0]||(t[0]=()=>e(u)())},{default:v(()=>[y(" request again ")]),_:1}),c("div",null,m(`loading\uFF1A${e(s)}`),1),c("div",null,m(e(a)),1)],64)}}}),V={style:{padding:"16px"}},q=c("h2",null,"A data",-1),B=c("h2",null,"B data",-1),Z=f({__name:"demo2",setup(w){return(o,a)=>(l(),d("div",V,[q,p(K),B,p(K)]))}}),A={key:0,style:{padding:"16px"}},z=f({__name:"demo3",setup(w){const[o,{toggle:a}]=C(),s=I("");function u(i){return new Promise(r=>{setTimeout(()=>{r(String(Date.now())+"-"+i)},1e3)})}const{data:n,params:t,loading:_,run:g}=h(u,{cacheKey:"cacheKey-demo3"});return P(()=>{s.value=t==null?void 0:t[0]}),(i,r)=>{const x=S("vhp-button");return l(),d("div",null,[p(x,{onClick:r[0]||(r[0]=()=>e(a)())},{default:v(()=>[y("show/hidden")]),_:1}),e(o)?(l(),d("div",A,[c("div",null,m(`loading: ${e(_)}`),1),U(c("input",{type:"text","onUpdate:modelValue":r[1]||(r[1]=k=>s.value=k)},null,512),[[j,s.value]]),p(x,{style:{"margin-left":"12px"},onClick:r[2]||(r[2]=k=>e(g)(s.value))},{default:v(()=>[y(" send ")]),_:1}),c("div",null,"params ID\uFF1A"+m(s.value),1),c("p",null,m(e(n)),1)])):D("",!0)])}}}),E={key:0,style:{padding:"16px"}},b="setCache-demo",G=f({__name:"demo4",setup(w){const[o,{toggle:a}]=C();function s(){return new Promise((n,t)=>{setTimeout(()=>{n(String(Date.now())+"useRequest")},1e3)})}const{data:u}=h(()=>s(),{ready:o,cacheKey:b,staleTime:5e3,setCache:n=>{localStorage.setItem(b,JSON.stringify(n.data))},getCache:()=>{var n;return JSON.parse((n=localStorage.getItem(b))!=null?n:"{}")}});return(n,t)=>{const _=S("vhp-button");return l(),d("div",null,[p(_,{onClick:t[0]||(t[0]=()=>e(a)())},{default:v(()=>[y("show/hidden")]),_:1}),e(o)?(l(),d("div",E,[c("p",null,m(e(u)),1)])):D("",!0)])}}}),J={key:0,style:{padding:"16px"}},$="cacheKey-async-storage",H=f({__name:"asyncDemo",setup(w){const o={setItem:(g,i)=>new Promise((r,x)=>{setTimeout(()=>{localStorage.setItem(g,i),r(i)},200)}),getItem:g=>new Promise((i,r)=>{setTimeout(()=>{i(localStorage.getItem(g))},100)})},[a,{toggle:s}]=C(),{data:u,refresh:n}=h(()=>o.getItem($),{cacheKey:$,debugKey:$});function t(g){return new Promise(i=>{setTimeout(()=>{o.setItem($,String(Date.now())).then(()=>{g()}),i(String(Date.now()))},1e3)})}const{data:_}=h(()=>t(n),{ready:a,cacheKey:"cacheKey-get-username"});return(g,i)=>{var x;const r=S("vhp-button");return l(),d("div",null,[p(r,{onClick:i[0]||(i[0]=()=>e(s)())},{default:v(()=>[y("show/hidden")]),_:1}),e(a)?(l(),d("div",J,[c("p",null,m((x=e(_))!=null?x:e(u)),1),c("div",null," cacheData: "+m(e(u)),1)])):D("",!0)])}}});export{O as _,R as a,Z as b,z as c,G as d,H as e};
