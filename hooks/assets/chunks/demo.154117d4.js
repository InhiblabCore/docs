import{e as x,ar as C,N as V,r as w,K as D,k as B,o as s,c,j as e,Y as u,w as d,n as p,X as m,t as n,d as a,F as E,m as F}from"../app.8e5a3e63.js";const N={style:{height:"400px",overflow:"scroll"}},S={style:{"margin-top":"8px"}},b={style:{"margin-top":"8px"}},X={style:{"margin-top":"8px"}},j=a("p",null,"received message: ",-1),M=x({__name:"demo",setup(J){const{readyState:o,sendMessage:_,latestMessage:y,disconnect:v,connect:g}=C("wss://demo.piesocket.com/v3/channel_1?api_key=VCXCEuvhGcBDP7XhiJJUDvR1e1D3eiVjgZ9VRiaV&notify_self"),f=V(()=>y.value),r=w([]);return D(()=>{var i,t;(i=f.value)!=null&&i.data&&r.value.push((t=f.value)==null?void 0:t.data)}),(i,t)=>{const l=B("vhp-button");return s(),c("div",N,[e(o)===1?(s(),u(l,{key:0,onClick:t[0]||(t[0]=()=>e(_)&&e(_)(`${Date.now()}`))},{default:d(()=>[p("\u2709\uFE0F send")]),_:1})):m("",!0),e(o)===1?(s(),u(l,{key:1,style:{"margin-left":"8px"},onClick:t[1]||(t[1]=()=>e(v)&&e(v)())},{default:d(()=>[p(" \u274C disconnect")]),_:1})):m("",!0),e(o)!==1?(s(),u(l,{key:2,style:{"margin-left":"8px"},onClick:t[2]||(t[2]=()=>e(g)&&e(g)())},{default:d(()=>[p(n(e(o)===0?"connecting":"\u{1F4DE} connect"),1)]),_:1})):m("",!0),a("div",S,"readyState: "+n(e(o)),1),a("div",b," message count: "+n(r.value.length),1),a("div",X,[j,(s(!0),c(E,null,F(r.value,(k,h)=>(s(),c("p",{key:h},n(k),1))),128))])])}}});export{M as _};
